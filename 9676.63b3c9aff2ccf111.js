"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[9676],{9676:(P,p,i)=>{i.r(p),i.d(p,{CreateModule:()=>L});var c=i(9808),u=i(1083),n=i(3075),e=i(5e3),d=i(3737),g=i(835),f=i(2836),Z=i(4673),s=i(7322),C=i(7531),_=i(4107),T=i(7423),v=i(508);function h(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function x(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.maxField)}}function q(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,h,2,1,"mat-error",12),e.YNc(2,x,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.nameControl.errors&&r.nameControl.errors.required),e.xp6(1),e.Q6J("ngIf",r.videoForm.controls.name.hasError("maxLength"))}}function A(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function b(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.maxField)}}function y(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,A,2,1,"mat-error",12),e.YNc(2,b,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.lastnameControl.errors&&r.lastnameControl.errors.required),e.xp6(1),e.Q6J("ngIf",r.videoForm.controls.lastname.hasError("maxLength"))}}function N(t,o){if(1&t&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.Q6J("value",r.id),e.xp6(1),e.hij(" ",r.name," ")}}function I(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function F(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,I,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.turnControl.errors&&r.turnControl.errors.required)}}function J(t,o){if(1&t&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.Q6J("value",r.id),e.xp6(1),e.hij(" ",r.name," ")}}function U(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function Y(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,U,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.companyControl.errors&&r.companyControl.errors.required)}}function O(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function w(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.phoneNumbres)}}function k(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,O,2,1,"mat-error",12),e.YNc(2,w,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.phoneControl.errors&&r.phoneControl.errors.required),e.xp6(1),e.Q6J("ngIf",r.phoneControl.errors&&r.phoneControl.errors.pattern)}}const S=[{path:"",component:(()=>{class t{constructor(r,a,l,m,M,j){this.location=r,this.servicio=a,this.turnService=l,this.caompanyService=m,this.snakBarService=M,this.router=j,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.onlyNumbres="Only allowed numbers",this.phoneNumbres="Incorrect phone number",this.videoForm=new n.cw({name:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(50)],updateOn:"change"}),lastname:new n.NI(null,{validators:[n.kI.required],updateOn:"change"}),phone:new n.NI(null,{validators:[n.kI.required,n.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")],updateOn:"change"}),turn:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(150)],updateOn:"change"}),company:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.getAllCompany(),this.getAllTurn()}goTo(r){this.router.navigate(["pages/nomenclators/"+r+"/create"])}getAllTurn(){this.turnService.getAll("turn_type").subscribe({next:r=>{console.warn("aaaha",r),this.turnsData=r.data},error:r=>{console.log("error",r),this.snakBarService.openSnackBar("Error al obtener los datos de turno.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllCompany(){this.caompanyService.getAll("company").subscribe({next:r=>{console.warn("aaaha",r),this.companyData=r.data},error:r=>{console.log("error",r),this.snakBarService.openSnackBar("Error al obtener los datos de company.","cerrar",{},"error")},complete:()=>console.info("complete")})}get nameControl(){return this.videoForm.get("name")}get lastnameControl(){return this.videoForm.get("lastname")}get phoneControl(){return this.videoForm.get("phone")}get turnControl(){return this.videoForm.get("turn")}get companyControl(){return this.videoForm.get("company")}returnToList(){this.location.back()}submitForm(){this.videoForm.valid&&this.servicio.create(this.videoForm.value,"janitor").subscribe({next:r=>{this.snakBarService.openSnackBar("Successfully created","Close"),this.returnToList()},error:r=>{this.snakBarService.openSnackBar("Error creating data.","cerrar",{},"error")},complete:()=>console.info("complete")})}isNumberValidation(){return function(r){return null!==r.value&&isNaN(+r.value)?{notNumber:!0}:null}}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(c.Ye),e.Y36(d.u),e.Y36(g.L),e.Y36(f.J),e.Y36(Z.A),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create"]],decls:58,vars:8,consts:[[1,"row"],[1,"col-12","mx-auto"],[1,"border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-control"],[1,"form-label"],["formControlName","name","matInput","","requeried","","maxlength","50"],[4,"ngIf"],["formControlName","lastname","matInput","","requeried","","maxlength","50"],[1,"col-11","containerToggle"],["formControlName","turn","requeried",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-1","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],["formControlName","company","requeried",""],["formControlName","phone","matInput","","requeried","","maxlength","50"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div"),e._UZ(6,"i",5),e.qZA(),e.TgZ(7,"h5",6),e._uU(8,"Create janitor"),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return a.submitForm()}),e.TgZ(11,"div",8),e.TgZ(12,"mat-form-field",9),e.TgZ(13,"mat-label",10),e._uU(14,"Name:"),e.qZA(),e._UZ(15,"input",11),e.YNc(16,q,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"mat-form-field",9),e.TgZ(19,"mat-label",10),e._uU(20,"Last name:"),e.qZA(),e._UZ(21,"input",13),e.YNc(22,y,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"div",14),e.TgZ(25,"mat-form-field",9),e.TgZ(26,"mat-label",10),e._uU(27,"Turn type:"),e.qZA(),e.TgZ(28,"mat-select",15),e.YNc(29,N,2,2,"mat-option",16),e.qZA(),e.YNc(30,F,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(31,"div",17),e.TgZ(32,"button",18),e.NdJ("click",function(m){return m.stopPropagation(),a.goTo("turn")}),e._UZ(33,"i",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",8),e.TgZ(35,"div",14),e.TgZ(36,"mat-form-field",9),e.TgZ(37,"mat-label",10),e._uU(38,"Cleaning company:"),e.qZA(),e.TgZ(39,"mat-select",20),e.YNc(40,J,2,2,"mat-option",16),e.qZA(),e.YNc(41,Y,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(42,"div",17),e.TgZ(43,"button",18),e.NdJ("click",function(m){return m.stopPropagation(),a.goTo("company")}),e._UZ(44,"i",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",8),e.TgZ(46,"mat-form-field",9),e.TgZ(47,"mat-label",10),e._uU(48,"Phone number:"),e.qZA(),e._UZ(49,"input",21),e.YNc(50,k,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(51,"div",22),e.TgZ(52,"div",23),e.TgZ(53,"button",24),e.NdJ("click",function(m){return m.stopPropagation(),a.returnToList()}),e._uU(54," Cancel "),e.qZA(),e.qZA(),e.TgZ(55,"div",23),e.TgZ(56,"button",25),e._uU(57," Add "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(10),e.Q6J("formGroup",a.videoForm),e.xp6(6),e.Q6J("ngIf",a.nameControl&&a.nameControl.invalid),e.xp6(6),e.Q6J("ngIf",a.lastnameControl&&a.lastnameControl.invalid),e.xp6(7),e.Q6J("ngForOf",a.turnsData),e.xp6(1),e.Q6J("ngIf",a.turnControl&&a.turnControl.invalid),e.xp6(10),e.Q6J("ngForOf",a.companyData),e.xp6(1),e.Q6J("ngIf",a.companyControl&&a.companyControl.invalid),e.xp6(9),e.Q6J("ngIf",a.phoneControl&&a.phoneControl.invalid))},directives:[n._Y,n.JL,n.sg,s.KE,s.hX,n.Fj,C.Nt,n.JJ,n.u,n.nD,c.O5,_.gD,c.sg,T.lW,s.TO,v.ey],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.padding-btn[_ngcontent-%COMP%]{padding:15px}.containerToggle[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]}),t})()}];let Q=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(S)],u.Bz]}),t})();var B=i(9151);let L=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,Q,B.q]]}),t})()}}]);