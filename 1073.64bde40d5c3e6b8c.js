"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[1073],{1073:(D,g,a)=>{a.r(g),a.d(g,{EditModule:()=>L});var u=a(9808),d=a(1083),i=a(3075),t=a(5e3),f=a(3737),Z=a(835),v=a(2836),_=a(4673),c=a(7322),h=a(7531),T=a(4107),C=a(7423),x=a(508);function q(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.requiredField)}}function A(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.maxField)}}function y(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,q,2,1,"mat-error",12),t.YNc(2,A,2,1,"mat-error",12),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.nameControl.errors&&o.nameControl.errors.required),t.xp6(1),t.Q6J("ngIf",o.videoForm.controls.name.hasError("maxLength"))}}function b(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.requiredField)}}function I(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.maxField)}}function E(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,b,2,1,"mat-error",12),t.YNc(2,I,2,1,"mat-error",12),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.lastnameControl.errors&&o.lastnameControl.errors.required),t.xp6(1),t.Q6J("ngIf",o.videoForm.controls.lastname.hasError("maxLength"))}}function N(r,n){if(1&r&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&r){const o=n.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.name," ")}}function F(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.requiredField)}}function J(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,F,2,1,"mat-error",12),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.turnControl.errors&&o.turnControl.errors.required)}}function U(r,n){if(1&r&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&r){const o=n.$implicit;t.Q6J("value",o.id),t.xp6(1),t.hij(" ",o.name," ")}}function Y(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.requiredField)}}function O(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,Y,2,1,"mat-error",12),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.companyControl.errors&&o.companyControl.errors.required)}}function k(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.requiredField)}}function S(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Oqu(o.phoneNumbres)}}function w(r,n){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,k,2,1,"mat-error",12),t.YNc(2,S,2,1,"mat-error",12),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.phoneControl.errors&&o.phoneControl.errors.required),t.xp6(1),t.Q6J("ngIf",o.phoneControl.errors&&o.phoneControl.errors.pattern)}}const Q=[{path:"",component:(()=>{class r{constructor(o,e,m,l,s,p,j){this.location=o,this.servicio=e,this.turnService=m,this.caompanyService=l,this.route=s,this.snakBarService=p,this.router=j,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.onlyNumbres="Only allowed numbers",this.phoneNumbres="Incorrect phone number",this.videoForm=new i.cw({name:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(50)],updateOn:"change"}),lastname:new i.NI(null,{validators:[i.kI.required],updateOn:"change"}),phone:new i.NI(null,{validators:[i.kI.required,i.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")],updateOn:"change"}),turn:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(150)],updateOn:"change"}),company:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.findById(),this.getAllCompany(),this.getAllTurn()}getAllTurn(){this.turnService.getAll("turn_type").subscribe({next:o=>{this.turnsData=o.data},error:o=>{console.log("error",o),this.snakBarService.openSnackBar("Error al obtener los datos de turno.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllCompany(){this.caompanyService.getAll("company").subscribe({next:o=>{this.companyData=o.data},error:o=>{this.snakBarService.openSnackBar("Error al obtener los datos de company.","cerrar",{},"error")},complete:()=>console.info("complete")})}findById(){this.id=this.route.snapshot.paramMap.get("id"),this.servicio.get(this.id,"janitor").subscribe(o=>{let e=o.data;this.turnControl.setValue(e.turn_types_id),this.companyControl.setValue(e.cleaning_companies_id),this.videoForm.patchValue({name:e.name,lastname:e.lastname,phone:e.phone})})}get nameControl(){var o;return null===(o=this.videoForm)||void 0===o?void 0:o.get("name")}get lastnameControl(){return this.videoForm.get("lastname")}get phoneControl(){return this.videoForm.get("phone")}get turnControl(){return this.videoForm.get("turn")}get companyControl(){return this.videoForm.get("company")}returnToList(){this.location.back()}goTo(o){this.router.navigate(["pages/nomenclators/"+o+"/create"])}submitForm(){var o,e,m,l,s;this.videoForm.valid&&this.servicio.update({id:parseInt(this.id),name:null===(o=this.nameControl)||void 0===o?void 0:o.value,lastname:null===(e=this.lastnameControl)||void 0===e?void 0:e.value,phone:null===(m=this.lastnameControl)||void 0===m?void 0:m.value,company:parseInt(null===(l=this.companyControl)||void 0===l?void 0:l.value),turn:parseInt(null===(s=this.turnControl)||void 0===s?void 0:s.value)},"janitor").subscribe({next:p=>{this.snakBarService.openSnackBar("Successfully edited","Close"),this.returnToList()},error:p=>{this.snakBarService.openSnackBar("Error editing data.","cerrar",{},"error")},complete:()=>console.info("complete")})}isNumberValidation(){return function(o){return null!==o.value&&isNaN(+o.value)?{notNumber:!0}:null}}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(u.Ye),t.Y36(f.u),t.Y36(Z.L),t.Y36(v.J),t.Y36(d.gz),t.Y36(_.A),t.Y36(d.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit"]],decls:58,vars:8,consts:[[1,"row"],[1,"col-12","mx-auto"],[1,"border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-control"],[1,"form-label"],["formControlName","name","matInput","","requeried","","maxlength","10"],[4,"ngIf"],["formControlName","lastname","matInput","","requeried","","maxlength","10"],[1,"col-11","containerToggle"],["formControlName","turn","requeried",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-1","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],["formControlName","company","requeried",""],["formControlName","phone","matInput","","requeried","","maxlength","50"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div"),t._UZ(6,"i",5),t.qZA(),t.TgZ(7,"h5",6),t._uU(8,"Edit janitor"),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"form",7),t.NdJ("ngSubmit",function(){return e.submitForm()}),t.TgZ(11,"div",8),t.TgZ(12,"mat-form-field",9),t.TgZ(13,"mat-label",10),t._uU(14,"Name:"),t.qZA(),t._UZ(15,"input",11),t.YNc(16,y,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(17,"div",8),t.TgZ(18,"mat-form-field",9),t.TgZ(19,"mat-label",10),t._uU(20,"Lastname:"),t.qZA(),t._UZ(21,"input",13),t.YNc(22,E,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(23,"div",8),t.TgZ(24,"div",14),t.TgZ(25,"mat-form-field",9),t.TgZ(26,"mat-label",10),t._uU(27,"Turn type:"),t.qZA(),t.TgZ(28,"mat-select",15),t.YNc(29,N,2,2,"mat-option",16),t.qZA(),t.YNc(30,J,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(31,"div",17),t.TgZ(32,"button",18),t.NdJ("click",function(l){return l.stopPropagation(),e.goTo("turn")}),t._UZ(33,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",8),t.TgZ(35,"div",14),t.TgZ(36,"mat-form-field",9),t.TgZ(37,"mat-label",10),t._uU(38,"Cleaning company:"),t.qZA(),t.TgZ(39,"mat-select",20),t.YNc(40,U,2,2,"mat-option",16),t.qZA(),t.YNc(41,O,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(42,"div",17),t.TgZ(43,"button",18),t.NdJ("click",function(l){return l.stopPropagation(),e.goTo("company")}),t._UZ(44,"i",19),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",8),t.TgZ(46,"mat-form-field",9),t.TgZ(47,"mat-label",10),t._uU(48,"Phone number:"),t.qZA(),t._UZ(49,"input",21),t.YNc(50,w,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(51,"div",22),t.TgZ(52,"div",23),t.TgZ(53,"button",24),t.NdJ("click",function(l){return l.stopPropagation(),e.returnToList()}),t._uU(54," Cancel "),t.qZA(),t.qZA(),t.TgZ(55,"div",23),t.TgZ(56,"button",25),t._uU(57," Add "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(10),t.Q6J("formGroup",e.videoForm),t.xp6(6),t.Q6J("ngIf",e.nameControl&&e.nameControl.invalid),t.xp6(6),t.Q6J("ngIf",e.lastnameControl&&e.lastnameControl.invalid),t.xp6(7),t.Q6J("ngForOf",e.turnsData),t.xp6(1),t.Q6J("ngIf",e.turnControl&&e.turnControl.invalid),t.xp6(10),t.Q6J("ngForOf",e.companyData),t.xp6(1),t.Q6J("ngIf",e.companyControl&&e.companyControl.invalid),t.xp6(9),t.Q6J("ngIf",e.phoneControl&&e.phoneControl.invalid))},directives:[i._Y,i.JL,i.sg,c.KE,c.hX,i.Fj,h.Nt,i.JJ,i.u,i.nD,u.O5,T.gD,u.sg,C.lW,c.TO,x.ey],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.padding-btn[_ngcontent-%COMP%]{padding:15px}.containerToggle[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]}),r})()}];let B=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[d.Bz.forChild(Q)],d.Bz]}),r})();var M=a(9151);let L=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[u.ez,B,M.q]]}),r})()}}]);