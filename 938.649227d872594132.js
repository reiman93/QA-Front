"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[938],{938:(ee,Z,i)=>{i.r(Z),i.d(Z,{EditModule:()=>V});var p=i(9808),g=i(1083),a=i(3075),e=i(5e3),_=i(5519),h=i(3424),A=i(1606),T=i(4819),C=i(6517),x=i(5628),q=i(4673),u=i(7322),y=i(7531),f=i(6856),b=i(4107),E=i(7423),I=i(508);function S(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function F(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function N(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,S,2,1,"mat-error",12),e.YNc(2,F,2,0,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nameControl.errors&&t.nameControl.errors.required),e.xp6(1),e.Q6J("ngIf",t.videoForm.controls.name.hasError("maxLength"))}}function J(r,o){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Y(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function k(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function Q(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,Y,2,1,"mat-error",12),e.YNc(2,k,2,0,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.areaControl.errors&&t.areaControl.errors.required),e.xp6(1),e.Q6J("ngIf",t.videoForm.controls.area.hasError("maxLength"))}}function U(r,o){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function O(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function B(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function L(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,O,2,1,"mat-error",12),e.YNc(2,B,2,0,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.labControl.errors&&t.labControl.errors.required),e.xp6(1),e.Q6J("ngIf",t.videoForm.controls.laboratory.hasError("maxLength"))}}function w(r,o){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function M(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function j(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,M,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.sampleControl.errors&&t.sampleControl.errors.required)}}function D(r,o){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function $(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function z(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,$,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.analysisControl.errors&&t.analysisControl.errors.required)}}function R(r,o){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function G(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function P(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,G,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.stateControl.errors&&t.stateControl.errors.required)}}const W=[{path:"",component:(()=>{class r{constructor(t,n,l,s,m,d,c,v,H){this.location=t,this.servicio=n,this.areaService=l,this.laboratoryService=s,this.analysisService=m,this.typeService=d,this.sampleService=c,this.route=v,this.snakBarService=H,this.requiredField="Campo requerido",this.videoForm=new a.cw({name:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),area:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),laboratory:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),sample_forms:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analysis_types:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analisys_state:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.findById(),this.getAllArea(),this.getAllLab(),this.getAllAnalysis(),this.getAllSample(),this.getAllType()}findById(){this.id=this.route.snapshot.paramMap.get("id"),this.servicio.get(this.id,"sample-request-forms").subscribe(t=>{let n=t.data[0];this.videoForm.patchValue({name:n.name,date:n.date})})}get nameControl(){return this.videoForm.get("name")}get dateControl(){return this.videoForm.get("date")}get areaControl(){return this.videoForm.get("area")}get labControl(){return this.videoForm.get("laboratory")}get analysisControl(){return this.videoForm.get("analysis_types")}get stateControl(){return this.videoForm.get("analisys_state")}get sampleControl(){return this.videoForm.get("sample_forms")}returnToList(){this.location.back()}getAllLab(){this.laboratoryService.getAll("laboratory").subscribe({next:t=>{console.warn("fields sactions",t),this.dataLab=t.data,console.warn("this.dataAction",this.dataLab)},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllArea(){this.areaService.getAll("area").subscribe({next:t=>{console.warn("fields sactions",t),this.dataArea=t.data,console.warn("this.dataAction",this.dataArea)},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllAnalysis(){this.analysisService.getAll("analisys_state").subscribe({next:t=>{this.dataState=t.data},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllType(){this.typeService.getAll("analysis_type").subscribe({next:t=>{this.dataAnalysis=t.data},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllSample(){this.sampleService.getAll("sample-froms").subscribe({next:t=>{this.dataSample=t.data},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}submitForm(){var t,n,l,s,m,d,c;this.videoForm.valid&&this.servicio.update({id:parseInt(this.id),name:null===(t=this.nameControl)||void 0===t?void 0:t.value,date:null===(n=this.dateControl)||void 0===n?void 0:n.value,state_analisys_id:null===(l=this.stateControl)||void 0===l?void 0:l.value,analysis_types_id:null===(s=this.analysisControl)||void 0===s?void 0:s.value,areas_id:null===(m=this.areaControl)||void 0===m?void 0:m.value,sample_forms_id:null===(d=this.sampleControl)||void 0===d?void 0:d.value,laboratories_id:null===(c=this.labControl)||void 0===c?void 0:c.value,users_id:JSON.parse(sessionStorage.getItem("currentUser")).username},"sample-request-forms").subscribe({next:v=>{this.snakBarService.openSnackBar("Editado correctamente","Cerrar"),this.returnToList()},error:v=>{this.snakBarService.openSnackBar("Error al editar los datos.","cerrar",{},"error")},complete:()=>console.info("complete")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.Ye),e.Y36(_.I),e.Y36(h.T),e.Y36(A.v),e.Y36(T.C),e.Y36(C.c),e.Y36(x.P),e.Y36(g.gz),e.Y36(q.A))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit"]],decls:65,vars:14,consts:[[1,"row"],[1,"col-xl-7","mx-auto"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],[1,"requeried","form-label"],["formControlName","name","matInput","","maxlength","50"],[4,"ngIf"],["matInput","","formControlName","date","placeholder","Seleccione....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","area"],[3,"value",4,"ngFor","ngForOf"],["formControlName","laboratory"],[1,"col-12"],["formControlName","sample_forms"],[1,"col-md-6"],["formControlName","analysis_types"],["formControlName","analisys_state"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div"),e._UZ(6,"i",5),e.qZA(),e.TgZ(7,"h5",6),e._uU(8,"Editar formulario peticion simple"),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(11,"div",8),e.TgZ(12,"mat-form-field",9),e.TgZ(13,"mat-label",10),e._uU(14,"Nombre:"),e.qZA(),e._UZ(15,"input",11),e.YNc(16,N,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"mat-form-field",9),e._UZ(19,"input",13),e._UZ(20,"mat-datepicker-toggle",14),e._UZ(21,"mat-datepicker",null,15),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"mat-form-field",9),e.TgZ(25,"mat-label",10),e._uU(26,"Area:"),e.qZA(),e.TgZ(27,"mat-select",16),e.YNc(28,J,2,2,"mat-option",17),e.qZA(),e.YNc(29,Q,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"mat-form-field",9),e.TgZ(32,"mat-label",10),e._uU(33,"Laboratorio:"),e.qZA(),e.TgZ(34,"mat-select",18),e.YNc(35,U,2,2,"mat-option",17),e.qZA(),e.YNc(36,L,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(37,"div",19),e.TgZ(38,"mat-form-field",9),e.TgZ(39,"mat-label",10),e._uU(40,"Formulario simple:"),e.qZA(),e.TgZ(41,"mat-select",20),e.YNc(42,w,2,2,"mat-option",17),e.qZA(),e.YNc(43,j,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(44,"div",21),e.TgZ(45,"mat-form-field",9),e.TgZ(46,"mat-label",10),e._uU(47,"Tipo de analisis:"),e.qZA(),e.TgZ(48,"mat-select",22),e.YNc(49,D,2,2,"mat-option",17),e.qZA(),e.YNc(50,z,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(51,"div",21),e.TgZ(52,"mat-form-field",9),e.TgZ(53,"mat-label",10),e._uU(54,"Analisis de estado:"),e.qZA(),e.TgZ(55,"mat-select",23),e.YNc(56,R,2,2,"mat-option",17),e.qZA(),e.YNc(57,P,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(58,"div",24),e.TgZ(59,"div",25),e.TgZ(60,"button",26),e.NdJ("click",function(s){return s.stopPropagation(),n.returnToList()}),e._uU(61," Cancelar "),e.qZA(),e.qZA(),e.TgZ(62,"div",25),e.TgZ(63,"button",27),e._uU(64," Aceptar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const l=e.MAs(22);e.xp6(10),e.Q6J("formGroup",n.videoForm),e.xp6(6),e.Q6J("ngIf",n.nameControl&&n.nameControl.invalid),e.xp6(3),e.Q6J("matDatepicker",l),e.xp6(1),e.Q6J("for",l),e.xp6(8),e.Q6J("ngForOf",n.dataArea),e.xp6(1),e.Q6J("ngIf",n.areaControl&&n.areaControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataLab),e.xp6(1),e.Q6J("ngIf",n.labControl&&n.labControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataSample),e.xp6(1),e.Q6J("ngIf",n.sampleControl&&n.sampleControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataAnalysis),e.xp6(1),e.Q6J("ngIf",n.analysisControl&&n.analysisControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataState),e.xp6(1),e.Q6J("ngIf",n.stateControl&&n.stateControl.invalid)}},directives:[a._Y,a.JL,a.sg,u.KE,u.hX,a.Fj,y.Nt,a.JJ,a.u,a.nD,p.O5,f.hl,f.nW,u.R9,f.Mq,b.gD,p.sg,E.lW,u.TO,I.ey],styles:[""]}),r})()}];let X=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.Bz.forChild(W)],g.Bz]}),r})();var K=i(9151);let V=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,X,K.q]]}),r})()}}]);