"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[3775],{3775:(E,u,i)=>{i.r(u),i.d(u,{CreateModule:()=>O});var m=i(9808),p=i(1083),n=i(3075),r=i(5e3),d=i(3737),g=i(835),f=i(2836),Z=i(4673),l=i(7322),C=i(7531),h=i(4107),v=i(7423),_=i(508);function T(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.hij("",o.requiredField," ")}}function x(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1,"S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),r.qZA())}function A(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,T,2,1,"mat-error",12),r.YNc(2,x,2,0,"mat-error",12),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",o.nameControl.errors&&o.nameControl.errors.required),r.xp6(1),r.Q6J("ngIf",o.videoForm.controls.name.hasError("maxLength"))}}function q(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.hij("",o.requiredField," ")}}function y(e,t){1&e&&(r.TgZ(0,"mat-error"),r._uU(1,"S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),r.qZA())}function N(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,q,2,1,"mat-error",12),r.YNc(2,y,2,0,"mat-error",12),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",o.lastnameControl.errors&&o.lastnameControl.errors.required),r.xp6(1),r.Q6J("ngIf",o.videoForm.controls.lastname.hasError("maxLength"))}}function F(e,t){if(1&e&&(r.TgZ(0,"mat-option",22),r._uU(1),r.qZA()),2&e){const o=t.$implicit;r.Q6J("value",o.id),r.xp6(1),r.hij(" ",o.name," ")}}function b(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.hij("",o.requiredField," ")}}function I(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,b,2,1,"mat-error",12),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",o.turnControl.errors&&o.turnControl.errors.required)}}function J(e,t){if(1&e&&(r.TgZ(0,"mat-option",22),r._uU(1),r.qZA()),2&e){const o=t.$implicit;r.Q6J("value",o.id),r.xp6(1),r.hij(" ",o.name," ")}}function S(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.hij("",o.requiredField," ")}}function U(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,S,2,1,"mat-error",12),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",o.companyControl.errors&&o.companyControl.errors.required)}}function Y(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.hij("",o.requiredField," ")}}function Q(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.hij("",o.onlyNumbres," ")}}function w(e,t){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,Y,2,1,"mat-error",12),r.YNc(2,Q,2,1,"mat-error",12),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",o.phoneControl.errors&&o.phoneControl.errors.required),r.xp6(1),r.Q6J("ngIf",o.phoneControl.errors&&o.phoneControl.errors.notNumber)}}const j=[{path:"",component:(()=>{class e{constructor(o,a,s,c,L){this.location=o,this.servicio=a,this.turnService=s,this.caompanyService=c,this.snakBarService=L,this.requiredField="Campo requerido",this.onlyNumbres="Solo se permiten numeros",this.videoForm=new n.cw({name:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(50)],updateOn:"change"}),lastname:new n.NI(null,{validators:[n.kI.required],updateOn:"change"}),phone:new n.NI(null,{validators:[n.kI.required,this.isNumberValidation],updateOn:"change"}),turn:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(150)],updateOn:"change"}),company:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.getAllCompany(),this.getAllTurn()}getAllTurn(){this.turnService.getAll("turn_type").subscribe({next:o=>{console.warn("aaaha",o),this.turnsData=o.data},error:o=>{console.log("error",o),this.snakBarService.openSnackBar("Error al obtener los datos de turno.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllCompany(){this.caompanyService.getAll("company").subscribe({next:o=>{console.warn("aaaha",o),this.companyData=o.data},error:o=>{console.log("error",o),this.snakBarService.openSnackBar("Error al obtener los datos de company.","cerrar",{},"error")},complete:()=>console.info("complete")})}get nameControl(){return this.videoForm.get("name")}get lastnameControl(){return this.videoForm.get("lastname")}get phoneControl(){return this.videoForm.get("phone")}get turnControl(){return this.videoForm.get("turn")}get companyControl(){return this.videoForm.get("company")}returnToList(){this.location.back()}submitForm(){this.videoForm.valid&&this.servicio.create(this.videoForm.value,"janitor").subscribe({next:o=>{this.snakBarService.openSnackBar("Creado correctamente","Cerrar"),this.returnToList()},error:o=>{this.snakBarService.openSnackBar("Error al crear los datos.","cerrar",{},"error")},complete:()=>console.info("complete")})}isNumberValidation(){return function(o){return null!==o.value&&isNaN(+o.value)?{notNumber:!0}:null}}}return e.\u0275fac=function(o){return new(o||e)(r.Y36(m.Ye),r.Y36(d.u),r.Y36(g.L),r.Y36(f.J),r.Y36(Z.A))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-create"]],decls:50,vars:8,consts:[[1,"row"],[1,"col-xl-7","mx-auto"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-control"],[1,"requeried","form-label"],["formControlName","name","matInput","","maxlength","50"],[4,"ngIf"],["formControlName","lastname","matInput","","maxlength","50"],["formControlName","turn"],[3,"value",4,"ngFor","ngForOf"],["formControlName","company"],["formControlName","phone","matInput","","maxlength","50"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(o,a){1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div"),r._UZ(6,"i",5),r.qZA(),r.TgZ(7,"h5",6),r._uU(8,"Registrar empleado de llimpieza"),r.qZA(),r.qZA(),r._UZ(9,"hr"),r.TgZ(10,"form",7),r.NdJ("ngSubmit",function(){return a.submitForm()}),r.TgZ(11,"div",8),r.TgZ(12,"mat-form-field",9),r.TgZ(13,"mat-label",10),r._uU(14,"Nombre:"),r.qZA(),r._UZ(15,"input",11),r.YNc(16,A,3,2,"mat-error",12),r.qZA(),r.qZA(),r.TgZ(17,"div",8),r.TgZ(18,"mat-form-field",9),r.TgZ(19,"mat-label",10),r._uU(20,"apellidos:"),r.qZA(),r._UZ(21,"input",13),r.YNc(22,N,3,2,"mat-error",12),r.qZA(),r.qZA(),r.TgZ(23,"div",8),r.TgZ(24,"mat-form-field",9),r.TgZ(25,"mat-label",10),r._uU(26,"Tipo de turno:"),r.qZA(),r.TgZ(27,"mat-select",14),r.YNc(28,F,2,2,"mat-option",15),r.qZA(),r.YNc(29,I,2,1,"mat-error",12),r.qZA(),r.qZA(),r.TgZ(30,"div",8),r.TgZ(31,"mat-form-field",9),r.TgZ(32,"mat-label",10),r._uU(33,"Compa\xf1\xeda de limpieza:"),r.qZA(),r.TgZ(34,"mat-select",16),r.YNc(35,J,2,2,"mat-option",15),r.qZA(),r.YNc(36,U,2,1,"mat-error",12),r.qZA(),r.qZA(),r.TgZ(37,"div",8),r.TgZ(38,"mat-form-field",9),r.TgZ(39,"mat-label",10),r._uU(40,"Tel\xe9fono:"),r.qZA(),r._UZ(41,"input",17),r.YNc(42,w,3,2,"mat-error",12),r.qZA(),r.qZA(),r.TgZ(43,"div",18),r.TgZ(44,"div",19),r.TgZ(45,"button",20),r.NdJ("click",function(c){return c.stopPropagation(),a.returnToList()}),r._uU(46,"Cancelar"),r.qZA(),r.qZA(),r.TgZ(47,"div",19),r.TgZ(48,"button",21),r._uU(49,"Aceptar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(10),r.Q6J("formGroup",a.videoForm),r.xp6(6),r.Q6J("ngIf",a.nameControl&&a.nameControl.invalid),r.xp6(6),r.Q6J("ngIf",a.lastnameControl&&a.lastnameControl.invalid),r.xp6(6),r.Q6J("ngForOf",a.turnsData),r.xp6(1),r.Q6J("ngIf",a.turnControl&&a.turnControl.invalid),r.xp6(6),r.Q6J("ngForOf",a.companyData),r.xp6(1),r.Q6J("ngIf",a.companyControl&&a.companyControl.invalid),r.xp6(6),r.Q6J("ngIf",a.phoneControl&&a.phoneControl.invalid))},directives:[n._Y,n.JL,n.sg,l.KE,l.hX,n.Fj,C.Nt,n.JJ,n.u,n.nD,m.O5,h.gD,m.sg,v.lW,l.TO,_.ey],styles:["[_nghost-%COMP%]     .mat-select-value{color:#fff!important}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[p.Bz.forChild(j)],p.Bz]}),e})();var B=i(9151);let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[m.ez,k,B.q]]}),e})()}}]);