"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[7435],{7435:(V,v,a)=>{a.r(v),a.d(v,{ListModule:()=>$});var p=a(9808),u=a(1083),t=a(5e3),i=a(3075),h=a(520),A=a(4004),x=a(7429);const C={headers:new h.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Headers":"Authorization, X-API-KEY, Origin, X-Requested-With, Content-Type, Accept, Access-Control-Allow-Request-Method","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, DELETE"})};let _=(()=>{class o{constructor(e,r){this.httpClient=e,this.enviroment=r}findAllPagination(e,r,s,l){return this.httpClient.post(this.enviroment.config.url+"storeRestRoom",{skip:e,take:r,sortField:s,orSearchFields:l,select:[]}).pipe((0,A.U)(c=>c.data.rest_room))}create(e,r){return this.httpClient.post(this.enviroment.config.url+r,e,C).pipe((0,A.U)(s=>s))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(h.eN),t.LFG(x.y))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=a(4673),q=a(5801),R=a(651),d=a(7322),y=a(7531),f=a(6856),T=a(3271),U=a(4107),F=a(2368),S=a(7423),g=a(9386),Z=a(4999),I=a(508);const N=["tabla"];function O(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function k(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.maxField)}}function J(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,O,2,1,"mat-error",16),t.YNc(2,k,2,1,"mat-error",16),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.stateControl.errors&&e.stateControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.mainForm.controls.state.hasError("maxLength"))}}function M(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function Q(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.maxField)}}function w(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,M,2,1,"mat-error",16),t.YNc(2,Q,2,1,"mat-error",16),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.shiftControl.errors&&e.shiftControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.mainForm.controls.shift.hasError("maxLength"))}}function L(o,n){if(1&o&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Y(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function D(o,n){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,Y,2,1,"mat-error",16),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.correctiveControl.errors&&e.correctiveControl.errors.required)}}function P(o,n){if(1&o&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.date,"yyyy-MM-dd")," ")}}function B(o,n){if(1&o&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.state," ")}}function E(o,n){if(1&o&&(t.TgZ(0,"td",45),t._UZ(1,"img",46),t._uU(2),t.qZA()),2&o){const e=n.$implicit,r=t.oxw();t.xp6(1),t.s9C("src",r.fotoT[e.id],t.LSH),t.xp6(1),t.hij(" ",e.users.name," ")}}const z=function(){return[5,10,25,100]};let G=(()=>{class o{constructor(e,r,s,l,m){this.service=e,this.snakBarService=r,this.servicioAction=s,this.router=l,this.dataGridService=m,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.period="",this.slectedRows=!0,this.fotoT=[],this.options=[{value:!1,name:"Inaceptable",controlName:"aceptable"},{value:!0,name:"Aceptable",controlName:"aceptable"}],this.mainForm=new i.cw({time:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(50)],updateOn:"change"}),date:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(50)],updateOn:"change"}),sex:new i.NI(!1,{validators:[],updateOn:"change"}),state:new i.NI(null,{validators:[i.kI.required],updateOn:"change"}),shift:new i.NI(null,{validators:[i.kI.required],updateOn:"change"}),corrective_actions:new i.NI(null,{validators:[i.kI.required],updateOn:"change"})})}ngOnInit(){this.nameQA=JSON.parse(sessionStorage.getItem("currentUser")).name,this.foto=JSON.parse(sessionStorage.getItem("currentUser")).foto,this.getAllAction(),this.dataGridService.dataGrid.subscribe(e=>{e instanceof Array&&e.forEach((r,s)=>{this.fotoT[r.id]=r.users&&r.users.foto?r.users.foto:"assets/img/user.png"})})}get dateControl(){return this.mainForm.get("date")}get timeControl(){return this.mainForm.get("time")}get sexControl(){return this.mainForm.get("sex")}get stateControl(){return this.mainForm.get("state")}get shiftControl(){return this.mainForm.get("shift")}get correctiveControl(){return this.mainForm.get("corrective_actions")}getAllAction(){this.servicioAction.getAll("relapse_action").subscribe({next:e=>{this.dataAction=e.data},error:e=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}submitForm(){var e,r,s,l,m,c;this.mainForm.valid&&this.service.create({auditor:JSON.parse(sessionStorage.getItem("currentUser")).username,date:null===(e=this.dateControl)||void 0===e?void 0:e.value,time:null===(r=this.timeControl)||void 0===r?void 0:r.value,shift:null===(s=this.shiftControl)||void 0===s?void 0:s.value,state:null===(l=this.stateControl)||void 0===l?void 0:l.value,sex:null===(m=this.sexControl)||void 0===m?void 0:m.value,corrective_action:null===(c=this.correctiveControl)||void 0===c?void 0:c.value},"rest-room").subscribe({next:K=>{this.snakBarService.openSnackBar("Successfully created","Close"),this.clearForm(),this.tabla.reloadData()},error:K=>{this.snakBarService.openSnackBar("Error creating data.","Close",{},"error")},complete:()=>{}})}clearForm(){this.mainForm.reset()}radioChange(e){this.radio=e.value}goTo(e){this.router.navigate(["pages/nomenclators/"+e+"/create"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_),t.Y36(b.A),t.Y36(q.b),t.Y36(u.F0),t.Y36(R.A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rest-rooms"]],viewQuery:function(e,r){if(1&e&&t.Gf(N,5),2&e){let s;t.iGM(s=t.CRH())&&(r.tabla=s.first)}},inputs:{period:"period"},decls:78,vars:18,consts:[[1,"card-title","d-flex","align-items-center"],[1,"customers-list-item","d-flex","align-items-center","p-2","cursor-pointer"],["width","80","height","80","alt","user avatar",1,"rounded-circle",3,"src"],[1,"ms-2"],[1,"mb-1","font-14","text-white"],[1,"font-size-sm"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],["matInput","","formControlName","date","placeholder","Select date...",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","time","placeholder","Select time...",3,"ngxTimepicker"],["timepicker",""],[1,"form-label"],["matInput","","requeried","","formControlName","state","maxlength","150"],[4,"ngIf"],["matInput","","requeried","","formControlName","shift","maxlength","50"],[1,"col-11","containerForm"],["formControlName","corrective_actions","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-1","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],[1,"col-12"],[1,"col-6","containerToggle"],[1,"label-toogle"],[1,"col-6",2,"display","inline-block"],["formControlName","sex","color","primary",1,"margin-toogle",3,"click"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"selectAvailable","serviceData","verticalLine"],["tabla",""],["title","Date","matColumnDef","date","type","string",3,"sort"],["mat-cell","","style","text-align: right",4,"matCellDef"],["title","State","matColumnDef","state","type","string",3,"sort"],["title","QA last reviewer","matColumnDef","users","type","string",3,"sort"],["mat-cell","","style","text-align: left",4,"matCellDef"],[2,"display","none"],[3,"pageSizeOptions"],["mat-raised-button","","color","warn",3,"click"],[3,"value"],["mat-cell","",2,"text-align","right"],["mat-cell","",2,"text-align","left"],["width","40","height","40","alt","user avatar",1,"rounded-circle","mySpacer",3,"src"]],template:function(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div"),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"h5",4),t._uU(6,"Audited by:"),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"form",6),t.NdJ("ngSubmit",function(){return r.submitForm()}),t.TgZ(11,"div",7),t.TgZ(12,"mat-form-field",8),t._UZ(13,"input",9),t._UZ(14,"mat-datepicker-toggle",10),t._UZ(15,"mat-datepicker",null,11),t.qZA(),t.qZA(),t.TgZ(17,"div",7),t.TgZ(18,"mat-form-field",8),t._UZ(19,"input",12),t._UZ(20,"ngx-material-timepicker",null,13),t.qZA(),t.qZA(),t.TgZ(22,"div",7),t.TgZ(23,"mat-form-field",8),t.TgZ(24,"mat-label",14),t._uU(25,"State:"),t.qZA(),t._UZ(26,"input",15),t.YNc(27,J,3,2,"mat-error",16),t.qZA(),t.qZA(),t.TgZ(28,"div",7),t.TgZ(29,"mat-form-field",8),t.TgZ(30,"mat-label",14),t._uU(31,"Shift:"),t.qZA(),t._UZ(32,"input",17),t.YNc(33,w,3,2,"mat-error",16),t.qZA(),t.qZA(),t.TgZ(34,"div",7),t.TgZ(35,"div",18),t.TgZ(36,"mat-form-field",8),t.TgZ(37,"mat-label",14),t._uU(38,"Corrective actions:"),t.qZA(),t.TgZ(39,"mat-select",19),t.YNc(40,L,2,2,"mat-option",20),t.qZA(),t.YNc(41,D,2,1,"mat-error",16),t.qZA(),t.qZA(),t.TgZ(42,"div",21),t.TgZ(43,"button",22),t.NdJ("click",function(m){return m.stopPropagation(),r.goTo("actions")}),t._UZ(44,"i",23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",24),t.TgZ(46,"div",7),t.TgZ(47,"div",25),t.TgZ(48,"mat-label",26),t._uU(49,"Sex:"),t.qZA(),t.qZA(),t.TgZ(50,"div",27),t.TgZ(51,"mat-label",26),t._uU(52,"Male"),t.qZA(),t.TgZ(53,"mat-slide-toggle",28),t.NdJ("click",function(m){return m.stopPropagation()}),t._uU(54," Female "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"div",29),t.TgZ(56,"div",30),t.TgZ(57,"button",31),t.NdJ("click",function(m){return m.stopPropagation(),r.clearForm()}),t._uU(58," Cancel "),t.qZA(),t.qZA(),t.TgZ(59,"div",30),t.TgZ(60,"button",32),t._uU(61," Add "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(62,"hr"),t.TgZ(63,"app-mat-data-table",33,34),t.TgZ(65,"app-mat-column-table",35),t.YNc(66,P,3,4,"td",36),t.qZA(),t.TgZ(67,"app-mat-column-table",37),t.YNc(68,B,2,1,"td",36),t.qZA(),t.TgZ(69,"app-mat-column-table",38),t.YNc(70,E,3,2,"td",39),t.qZA(),t._UZ(71,"div",40),t._UZ(72,"app-mat-paginator-data-table",41),t.TgZ(73,"app-mat-error-data-table"),t._uU(74," There are problems to load data. "),t._UZ(75,"br"),t.TgZ(76,"button",42),t.NdJ("click",function(){return t.CHM(s),t.MAs(64).reloadData()}),t._uU(77," Reload "),t.qZA(),t.qZA(),t.qZA()}if(2&e){const s=t.MAs(16),l=t.MAs(21);t.xp6(3),t.s9C("src",r.foto,t.LSH),t.xp6(5),t.Oqu(r.nameQA),t.xp6(2),t.Q6J("formGroup",r.mainForm),t.xp6(3),t.Q6J("matDatepicker",s),t.xp6(1),t.Q6J("for",s),t.xp6(5),t.Q6J("ngxTimepicker",l),t.xp6(8),t.Q6J("ngIf",r.stateControl&&r.stateControl.invalid),t.xp6(6),t.Q6J("ngIf",r.shiftControl&&r.shiftControl.invalid),t.xp6(7),t.Q6J("ngForOf",r.dataAction),t.xp6(1),t.Q6J("ngIf",r.correctiveControl&&r.correctiveControl.invalid),t.xp6(22),t.Q6J("selectAvailable",!1)("serviceData",r.service)("verticalLine",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(17,z))}},directives:[i._Y,i.JL,i.sg,d.KE,y.Nt,i.Fj,f.hl,i.JJ,i.u,f.nW,d.R9,f.Mq,T.I2,T.ro,d.hX,i.nD,p.O5,U.gD,i.Q7,p.sg,F.Rr,S.lW,g.Zc,g.PT,Z.w1,Z.Dz,g.y0,g.DV,d.TO,I.ey,Z.ev],pipes:[p.uU],styles:[".margin-toogle[_ngcontent-%COMP%]{margin-left:2.5px;margin-right:5px}.label-toogle[_ngcontent-%COMP%]{vertical-align:top}.containerToggle[_ngcontent-%COMP%]{display:inline-block;width:130px;vertical-align:top}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.padding-btn[_ngcontent-%COMP%]{padding:15px}.containerForm[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}  th.mat-header-cell{color:#1a73e861!important}  .mat-checkbox .mat-checkbox-ripple .mat-ripple-element{background-color:#1a73e861!important}  .mat-checkbox .mat-checkbox-frame{border-color:#1a73e861!important}  .mat-tooltip-trigger .mat-button-wrapper{color:#1a73e861!important}  .mat-paginator-range-actions .mat-paginator-range-label{color:#1a73e861!important}  th.mat-header-cell{z-index:10!important}  mat-dialog-container{background:#222b45!important}  mat-dialog-container i{color:#fff!important}"]}),o})();const j=[{path:"",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-equipment"]],decls:19,vars:0,consts:[[1,"row"],["ccp",""],[1,"col-12","mx-auto"],[1,"mb-0","text-uppercase"],[1,"card"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["data-bs-toggle","tab","href","#rest","role","tab","aria-selected","true",1,"nav-link","active"],[1,"d-flex","align-items-center"],[1,"tab-icon"],[1,"bx","bx-home","font-18","me-1"],[1,"tab-title","text-uppercase"],[1,"tab-content","py-3"],["id","rest-room","role","tabpanel",1,"tab-pane","fade","show","active"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0,1),t.TgZ(2,"div",2),t.TgZ(3,"h6",3),t._uU(4,"Buildings"),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"ul",6),t.TgZ(9,"li",7),t.TgZ(10,"a",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t._UZ(13,"i",11),t.qZA(),t.TgZ(14,"div",12),t._uU(15,"Rest Room"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",13),t.TgZ(17,"div",14),t._UZ(18,"app-rest-rooms"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},directives:[G],styles:[".mySpacer[_ngcontent-%COMP%]{margin:.5rem!important}.left-space[_ngcontent-%COMP%]{margin-left:10px}  mat-dialog-container{background:#222b45!important}"]}),o})()},{path:"**",redirectTo:"auth"}];let H=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(j)],u.Bz]}),o})();var X=a(9151),W=a(6596);let $=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,H,X.q,W.V]]}),o})()}}]);