"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[5759],{5759:(Y,g,r)=>{r.r(g),r.d(g,{ListModule:()=>N});var f=r(9808),p=r(1083),t=r(5e3),A=r(9646),Z=r(262),C=r(7886),v=r(520),c=r(4004),T=r(9183),y=r(7429);const m={headers:new v.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Headers":"Authorization, X-API-KEY, Origin, X-Requested-With, Content-Type, Accept, Access-Control-Allow-Request-Method","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, DELETE"})};let b=(()=>{class n{constructor(e,i){this.httpClient=e,this.enviroment=i,this.url=T.H}findAllPagination(e,i,o,s){return this.httpClient.post(this.enviroment.config.url+"storeDepartment",{skip:e,take:i,sortField:o,orSearchFields:s,select:[]}).pipe((0,c.U)(u=>(console.warn("data que retorna el servicio",u),u.data.department)))}get(e,i){return this.httpClient.get(this.enviroment.config.url+i+"/"+e,m).pipe((0,c.U)(o=>o))}create(e,i){return this.httpClient.get(this.enviroment.config.url+i,{}).pipe((0,c.U)(o=>o))}delete(e,i){return this.httpClient.delete(this.enviroment.config.url+i+"/"+e[0],m).pipe((0,c.U)(o=>o))}deleteMany(e,i){return this.httpClient.post(this.enviroment.config.url+i,{ids:e},m).pipe((0,c.U)(o=>o))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(v.eN),t.LFG(y.y))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var L=r(4673),D=r(8966),S=r(7423),d=r(9386),h=r(4999),M=r(5245);const x=["tabla"];function U(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function w(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",19),t.TgZ(1,"div",20),t.TgZ(2,"div",21),t.TgZ(3,"button",22),t.NdJ("click",function(o){const l=t.CHM(e).$implicit,u=t.oxw();return o.stopPropagation(),u.update(l.id)}),t.TgZ(4,"mat-icon"),t._uU(5,"edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}const R=function(){return["../create"]},F=function(){return[5,10,25,100]},J=[{path:"",component:(()=>{class n{constructor(e,i,o,s){this.service=e,this.router=i,this.snakBarService=o,this.dialog=s,this.emitter=new t.vpe,this.hideOptions=!1,this.slectedRows=!0}emitSelectedValues(e){this.emitter.emit(e)}ngOnInit(){}ngAfterViewInit(){this.tabla.selection.changed.subscribe(e=>{this.slectedRows=0===e.source.selected.length;const i=new Array;this.result.forEach((o,s)=>{-1!=e.source.selected.indexOf(o.id)&&i.push(o)}),this.emitSelectedValues(i)})}update(e){this.router.navigate(["pages/department/edit",e])}deleteMany(){this.dialog.open(C.G,{data:{value:1,message:"Are you sure you want to delete the selected item(s)?."}}).afterClosed().subscribe(i=>{if("accept"==i){const o=new Array;this.tabla.selection.selected.forEach((s,l)=>{o.push(s)}),0!=this.tabla.selection.selected.length&&this.service.deleteMany(o,"deleteManyDepartment").pipe((0,Z.K)(s=>(this.snakBarService.openSnackBar(s,""),(0,A.of)([])))).subscribe(()=>{var s,l;null===(s=this.snakBarService)||void 0===s||s.openSnackBar("The selected item(s) have been successfully deleted",""),null===(l=this.tabla)||void 0===l||l.selection.clear(),this.tabla.reloadData()})}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b),t.Y36(p.F0),t.Y36(L.A),t.Y36(D.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-equipment"]],viewQuery:function(e,i){if(1&e&&t.Gf(x,5),2&e){let o;t.iGM(o=t.CRH())&&(i.tabla=o.first)}},inputs:{hideOptions:"hideOptions"},outputs:{emitter:"emitter",emitSelectedValues:"emitSelectedValues"},decls:28,vars:10,consts:[[1,"row"],[1,"col-xl-10","mx-auto"],[1,"mb-0","text-uppercase"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"buttons-row"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"selectAvailable","serviceData","verticalLine"],["tabla",""],["title","Name","matColumnDef","name","type","string",3,"sort"],["mat-cell","","style","text-align: right",4,"matCellDef"],["title","Description","matColumnDef","description","type","string",3,"sort"],[2,"display","none"],["title","Options","matColumnDef","unknow"],["mat-cell","","style","padding-right: 0",4,"matCellDef"],[3,"pageSizeOptions"],["mat-raised-button","","color","warn",3,"click"],["mat-cell","",2,"text-align","right"],["mat-cell","",2,"padding-right","0"],[2,"text-align","center"],[2,"display","inline-flex"],["mat-icon-button","","mat-button","",3,"click"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h6",2),t._uU(3,"department"),t.qZA(),t._UZ(4,"hr"),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"button",6),t._uU(9," Add "),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(l){return l.stopPropagation(),i.deleteMany()}),t._uU(11," Delete "),t.qZA(),t.qZA(),t._UZ(12,"hr"),t.TgZ(13,"app-mat-data-table",8,9),t.TgZ(15,"app-mat-column-table",10),t.YNc(16,U,2,1,"td",11),t.qZA(),t.TgZ(17,"app-mat-column-table",12),t.YNc(18,w,2,1,"td",11),t.qZA(),t._UZ(19,"div",13),t.TgZ(20,"app-mat-option-table",14),t.YNc(21,O,6,0,"td",15),t.qZA(),t._UZ(22,"app-mat-paginator-data-table",16),t.TgZ(23,"app-mat-error-data-table"),t._uU(24," There are problems to load data. "),t._UZ(25,"br"),t.TgZ(26,"button",17),t.NdJ("click",function(){return t.CHM(o),t.MAs(14).reloadData()}),t._uU(27," Reload "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(8),t.Q6J("routerLink",t.DdM(8,R)),t.xp6(2),t.Q6J("disabled",i.slectedRows),t.xp6(3),t.Q6J("selectAvailable",!0)("serviceData",i.service)("verticalLine",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(5),t.Q6J("pageSizeOptions",t.DdM(9,F)))},directives:[S.lW,p.rH,d.Zc,d.PT,h.w1,h.Dz,d.TD,d.y0,d.DV,h.ev,M.Hw],styles:[""]}),n})()}];let E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(J)],p.Bz]}),n})();var Q=r(6596),B=r(9151);let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,E,Q.V,B.q]]}),n})()}}]);