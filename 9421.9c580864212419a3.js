"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[9421],{9421:(E,u,c)=>{c.r(u),c.d(u,{ListModule:()=>B});var p=c(9808),d=c(1083),e=c(5e3),a=c(3075),_=c(4077),f=c(4673),Z=c(5801),b=c(497),m=c(7322),h=c(7531),g=c(6856),v=c(3271),C=c(4107),x=c(7423),T=c(508);const A=["gccp"];function q(i,n){if(1&i&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function y(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function I(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,y,2,1,"mat-error",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.preventiveControl.errors&&t.preventiveControl.errors.required)}}function L(i,n){if(1&i&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function N(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function F(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,N,2,1,"mat-error",19),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.correctiveControl.errors&&t.correctiveControl.errors.required)}}function M(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"input",33),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().$implicit.model=r}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"input",34,35),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().$implicit.model=r}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function S(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"textarea",36),e.NdJ("ngModelChange",function(r){return e.CHM(t),e.oxw().$implicit.model=r}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function w(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.requiredField)}}function U(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.notNumberField)}}function O(i,n){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function Q(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,w,2,1,"mat-error",19),e.YNc(2,U,2,1,"mat-error",19),e.YNc(3,O,2,0,"mat-error",19),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.required),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.notNumber),e.xp6(1),e.Q6J("ngIf",o.mainForm.controls[t.name].hasError("maxLength"))}}function k(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"mat-form-field",9),e.TgZ(2,"mat-label",16),e._uU(3),e.qZA(),e.YNc(4,M,1,2,"input",30),e.YNc(5,J,2,2,"input",31),e.YNc(6,S,1,2,"textarea",32),e.YNc(7,Q,4,3,"mat-error",19),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=e.oxw();e.Tol(t.class),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf","input"==t.type),e.xp6(1),e.Q6J("ngIf","number"==t.type),e.xp6(1),e.Q6J("ngIf","text"==t.type),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name)&&o.mainForm.get(t.name).invalid)}}let G=(()=>{class i{constructor(t,o,r,l,s){this.servicio=t,this.snakBarService=o,this.servicioAction=r,this.servicioPreventive=l,this.router=s,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.notNumberField="Only allowed numbers.",this.period="",this.mainForm=new a.cw({time:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),preventive_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),corrective_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"})})}ngOnInit(){this.nameQA=JSON.parse(sessionStorage.getItem("currentUser")).name,this.foto=JSON.parse(sessionStorage.getItem("currentUser")).foto,this.getAllAction(),this.getAllPreventive(),this.addInputControl()}get timeControl(){return this.mainForm.get("time")}get dateControl(){return this.mainForm.get("date")}get correctiveControl(){return this.mainForm.get("corrective_action")}get preventiveControl(){return this.mainForm.get("preventive_action")}get propertyDiv(){return this.gccp}getAllAction(){this.servicioAction.getAll("relapse_action").subscribe({next:t=>{this.dataAction=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}getAllPreventive(){this.servicioPreventive.getAll("preventive_action").subscribe({next:t=>{this.dataPreventive=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}submitForm(){this.mainForm.valid&&(this.fillData(),this.servicio.create(this.dataSend,this.service).subscribe({next:t=>{this.snakBarService.openSnackBar("Successfully created","Close")},error:t=>{this.snakBarService.openSnackBar("Error creating data.","Close",{},"error")},complete:()=>{}}))}clearForm(){this.mainForm.reset()}addInputControl(){let t=new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(10)],updateOn:"change"}),o=new a.NI(null,{validators:[a.kI.required,this.isNumberValidation()],updateOn:"change"});this.fields.forEach((r,l)=>{this.mainForm.addControl(r.name,"number"==r.type?o:t),this.dataSend={[r.name]:null}})}fillData(){var t,o,r,l;this.fields.forEach((s,R)=>{this.dataSend[s.name]=s.model}),this.dataSend.monitor_name=JSON.parse(sessionStorage.getItem("currentUser")).username,this.dataSend.date=null===(t=this.dateControl)||void 0===t?void 0:t.value,this.dataSend.initial_time=null===(o=this.timeControl)||void 0===o?void 0:o.value,this.dataSend.correctuve_action_id=null===(r=this.correctiveControl)||void 0===r?void 0:r.value,this.dataSend.preventive_action_id=null===(l=this.preventiveControl)||void 0===l?void 0:l.value}goTo(t){this.router.navigate(["pages/nomenclators/"+t+"/create"])}isNumberValidation(){return function(t){return null!==t.value&&isNaN(+t.value)?{notNumber:!0}:null}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.D),e.Y36(f.A),e.Y36(Z.b),e.Y36(b.v),e.Y36(d.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ccp-generic-logs"]],viewQuery:function(t,o){if(1&t&&e.Gf(A,5),2&t){let r;e.iGM(r=e.CRH())&&(o.gccp=r.first)}},inputs:{period:"period",fields:"fields",service:"service"},decls:54,vars:11,consts:[["gccp",""],[1,"card-title","d-flex","align-items-center"],[1,"customers-list-item","d-flex","align-items-center","p-2","cursor-pointer"],["width","80","height","80","alt","user avatar",1,"rounded-circle",3,"src"],[1,"ms-2"],[1,"mb-1","font-14","text-white"],[1,"font-size-sm"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],["matInput","","formControlName","date","placeholder","Select date....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","time","placeholder","Select time....",3,"ngxTimepicker"],["timepicker",""],[1,"col-10","containerBtn"],[1,"form-label"],["formControlName","preventive_action","requeried",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-2","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],["formControlName","corrective_action","requeried",""],[3,"class",4,"ngFor","ngForOf"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange"],["numberItem",""],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",null,0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"div"),e._UZ(5,"img",3),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"h5",5),e._uU(8,"Audited by:"),e.qZA(),e.TgZ(9,"p",6),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(11,"hr"),e.TgZ(12,"form",7),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(13,"div",8),e.TgZ(14,"mat-form-field",9),e._UZ(15,"input",10),e._UZ(16,"mat-datepicker-toggle",11),e._UZ(17,"mat-datepicker",null,12),e.qZA(),e.qZA(),e.TgZ(19,"div",8),e.TgZ(20,"mat-form-field",9),e._UZ(21,"input",13),e._UZ(22,"ngx-material-timepicker",null,14),e.qZA(),e.qZA(),e.TgZ(24,"div",8),e.TgZ(25,"div",15),e.TgZ(26,"mat-form-field",9),e.TgZ(27,"mat-label",16),e._uU(28,"Preventive actions:"),e.qZA(),e.TgZ(29,"mat-select",17),e.YNc(30,q,2,2,"mat-option",18),e.qZA(),e.YNc(31,I,2,1,"mat-error",19),e.qZA(),e.qZA(),e.TgZ(32,"div",20),e.TgZ(33,"button",21),e.NdJ("click",function(l){return l.stopPropagation(),o.goTo("preventive-actions")}),e._UZ(34,"i",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",8),e.TgZ(36,"div",15),e.TgZ(37,"mat-form-field",9),e.TgZ(38,"mat-label",16),e._uU(39,"Corrective actions:"),e.qZA(),e.TgZ(40,"mat-select",23),e.YNc(41,L,2,2,"mat-option",18),e.qZA(),e.YNc(42,F,2,1,"mat-error",19),e.qZA(),e.qZA(),e.TgZ(43,"div",20),e.TgZ(44,"button",21),e.NdJ("click",function(l){return l.stopPropagation(),o.goTo("actions")}),e._UZ(45,"i",22),e.qZA(),e.qZA(),e.qZA(),e.YNc(46,k,8,8,"div",24),e.TgZ(47,"div",25),e.TgZ(48,"div",26),e.TgZ(49,"button",27),e.NdJ("click",function(l){return l.stopPropagation(),o.clearForm()}),e._uU(50," Cancel "),e.qZA(),e.qZA(),e.TgZ(51,"div",26),e.TgZ(52,"button",28),e._uU(53," Add "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const r=e.MAs(18),l=e.MAs(23);e.xp6(5),e.s9C("src",o.foto,e.LSH),e.xp6(5),e.Oqu(o.nameQA),e.xp6(2),e.Q6J("formGroup",o.mainForm),e.xp6(3),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(5),e.Q6J("ngxTimepicker",l),e.xp6(9),e.Q6J("ngForOf",o.dataPreventive),e.xp6(1),e.Q6J("ngIf",o.preventiveControl&&o.preventiveControl.invalid),e.xp6(10),e.Q6J("ngForOf",o.dataAction),e.xp6(1),e.Q6J("ngIf",o.correctiveControl&&o.correctiveControl.invalid),e.xp6(4),e.Q6J("ngForOf",o.fields)}},directives:[a._Y,a.JL,a.sg,m.KE,h.Nt,a.Fj,g.hl,a.JJ,a.u,g.nW,m.R9,g.Mq,v.I2,v.ro,m.hX,C.gD,p.sg,p.O5,x.lW,T.ey,m.TO,a.Q7,a.nD],styles:[".margin-toogle[_ngcontent-%COMP%]{margin-left:2.5px;margin-right:5px}.label-toogle[_ngcontent-%COMP%]{vertical-align:top}.containerToggle[_ngcontent-%COMP%]{display:inline-block;width:130px;vertical-align:top}  .mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.containerBtn[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.padding-btn[_ngcontent-%COMP%]{padding:15px}"]}),i})();const D=[{path:"",component:(()=>{class i{constructor(){this.requiredField="Campo requerido",this.period1="period1",this.period2="period2",this.period3="period3",this.period4="period4",this.period5="period5",this.fields1=[{name:"shift",class:"col-6",type:"input",model:"",label:"Shift:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"First carcase id number"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Carcase ID number or Lot:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Defect descriptions:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Records review found acceptable:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Pre shipment review:"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Monitor name & Initials:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limit"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Verifier name & Initials:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Direct name:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Direct evaluation:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Direct approval time :"}],this.fields2=[{name:"shift",class:"col-6",type:"input",model:"",label:"Shift:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"First carcase id number"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Carcase ID number or Lot:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Defect descriptions:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Records review found acceptable:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Pre shipment review:"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Monitor name & Initials:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limit"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Verifier name & Initials:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Direct name:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Direct evaluation:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Direct approval time :"}],this.fields3=[{name:"shift",class:"col-6",type:"input",model:"",label:"Shift:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"First carcase id number"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Carcase ID number or Lot:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Defect descriptions:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Records review found acceptable:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Pre shipment review:"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Monitor name & Initials:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limit"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Verifier name & Initials:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Direct name:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Direct evaluation:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Direct approval time :"},{name:"limit_low",class:"col-4",type:"input",label:"Limit low",model:""},{name:"limit_mix",class:"col-4",type:"input",label:"Limit mix",model:""},{name:"limit_max",class:"col-4",type:"input",label:"Limit max",model:""}]}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-equipment"]],decls:40,vars:3,consts:[[1,"row"],["ccp",""],[1,"col-12","mx-auto"],[1,"mb-0","text-uppercase"],[1,"card"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","nav-fill"],["role","presentation",1,"nav-item"],["data-bs-toggle","tab","href","#ccp-log-1","role","tab","aria-selected","true",1,"nav-link","active"],[1,"d-flex","align-items-center"],[1,"tab-icon"],[1,"bx","bx-home","font-18","me-1"],[1,"tab-title","text-uppercase"],["data-bs-toggle","tab","role","tab","href","#ccp-log-2","role","tab","aria-selected","false",1,"nav-link"],[1,"bx","bx-user-pin","font-18","me-1"],["data-bs-toggle","tab","href","#ccp-log-3","role","tab","aria-selected","false",1,"nav-link"],[1,"bx","bx-microphone","font-18","me-1"],[1,"tab-content","py-3"],["id","ccp-log-1","role","tabpanel",1,"tab-pane","fade","show","active"],["period","1","service","ccp-lactic",3,"fields"],["gccp",""],["id","ccp-log-2","role","tabpanel",1,"tab-pane","fade"],["period","2","service","ccp-peroaxycetic",3,"fields"],["gccp1",""],["id","ccp-log-3","role","tabpanel",1,"tab-pane","fade"],["period","3","service","ccp-s1haccp",3,"fields"],["gccp2",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e.TgZ(2,"div",2),e.TgZ(3,"h6",3),e._uU(4,"ccp logs"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"ul",6),e.TgZ(9,"li",7),e.TgZ(10,"a",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e._UZ(13,"i",11),e.qZA(),e.TgZ(14,"div",12),e._uU(15,"ccp S3 Lactic Acid"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"li",7),e.TgZ(17,"a",13),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._UZ(20,"i",14),e.qZA(),e.TgZ(21,"div",12),e._uU(22,"ccp Peroxyacetic acid"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"li",7),e.TgZ(24,"a",15),e.TgZ(25,"div",9),e.TgZ(26,"div",10),e._UZ(27,"i",16),e.qZA(),e.TgZ(28,"div",12),e._uU(29,"ccp s1 haccp"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",17),e.TgZ(31,"div",18),e._UZ(32,"app-ccp-generic-logs",19,20),e.qZA(),e.TgZ(34,"div",21),e._UZ(35,"app-ccp-generic-logs",22,23),e.qZA(),e.TgZ(37,"div",24),e._UZ(38,"app-ccp-generic-logs",25,26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(32),e.Q6J("fields",o.fields1),e.xp6(3),e.Q6J("fields",o.fields2),e.xp6(3),e.Q6J("fields",o.fields3))},directives:[G],styles:[".mySpacer[_ngcontent-%COMP%]{margin:.5rem!important}.left-space[_ngcontent-%COMP%]{margin-left:10px}  mat-dialog-container{background:#222b45!important}"]}),i})()},{path:"**",redirectTo:"auth"}];let P=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(D)],d.Bz]}),i})();var Y=c(9151);let B=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.ez,P,Y.q]]}),i})()}}]);