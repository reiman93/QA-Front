"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[2767],{2767:(ee,d,i)=>{i.r(d),i.d(d,{CreateModule:()=>G});var m=i(9808),p=i(1083),a=i(3075),e=i(5e3),u=i(5519),Z=i(3424),f=i(1606),_=i(4819),C=i(6517),T=i(5628),v=i(4673),c=i(7322),A=i(7531),g=i(6856),q=i(4107),h=i(7423),x=i(508);function y(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function b(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.maxField)}}function k(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,y,2,1,"mat-error",12),e.YNc(2,b,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nameControl.errors&&t.nameControl.errors.required),e.xp6(1),e.Q6J("ngIf",t.videoForm.controls.name.hasError("maxLength"))}}function N(r,o){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function S(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function I(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.maxField)}}function J(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,S,2,1,"mat-error",12),e.YNc(2,I,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.areaControl.errors&&t.areaControl.errors.required),e.xp6(1),e.Q6J("ngIf",t.videoForm.controls.area.hasError("maxLength"))}}function F(r,o){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function U(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function Y(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.maxField)}}function Q(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,U,2,1,"mat-error",12),e.YNc(2,Y,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.labControl.errors&&t.labControl.errors.required),e.xp6(1),e.Q6J("ngIf",t.videoForm.controls.laboratory.hasError("maxLength"))}}function O(r,o){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function w(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function B(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,w,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.sampleControl.errors&&t.sampleControl.errors.required)}}function L(r,o){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function M(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function E(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,M,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.analysisControl.errors&&t.analysisControl.errors.required)}}function P(r,o){if(1&r&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function j(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function R(r,o){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,j,2,1,"mat-error",12),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.stateControl.errors&&t.stateControl.errors.required)}}const $=[{path:"",component:(()=>{class r{constructor(t,n,s,l,W,X,K,H,V){this.location=t,this.servicio=n,this.areaService=s,this.laboratoryService=l,this.analysisService=W,this.typeService=X,this.sampleService=K,this.snakBarService=H,this.router=V,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.videoForm=new a.cw({name:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),area:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),laboratory:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),sample_forms:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analysis_types:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analisys_state:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.getAllArea(),this.getAllLab(),this.getAllAnalysis(),this.getAllSample(),this.getAllType()}get nameControl(){return this.videoForm.get("name")}get dateControl(){return this.videoForm.get("date")}get areaControl(){return this.videoForm.get("area")}get labControl(){return this.videoForm.get("laboratory")}get analysisControl(){return this.videoForm.get("analysis_types")}get stateControl(){return this.videoForm.get("analisys_state")}get sampleControl(){return this.videoForm.get("sample_forms")}returnToList(){this.location.back()}goTo(t){this.router.navigate(["pages/nomenclators/"+t+"/create"])}getAllLab(){this.laboratoryService.getAll("laboratory").subscribe({next:t=>{this.dataLab=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllArea(){this.areaService.getAll("area").subscribe({next:t=>{console.warn("fields sactions",t),this.dataArea=t.data,console.warn("this.dataAction",this.dataArea)},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllAnalysis(){this.analysisService.getAll("analisys_state").subscribe({next:t=>{this.dataState=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllType(){this.typeService.getAll("analysis_type").subscribe({next:t=>{this.dataAnalysis=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllSample(){this.sampleService.getAll("sample-froms").subscribe({next:t=>{this.dataSample=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}submitForm(){this.videoForm.valid&&this.servicio.create(this.videoForm.value,JSON.parse(sessionStorage.getItem("currentUser")).username,"sample-request-forms").subscribe({next:t=>{this.snakBarService.openSnackBar("Successfully created","Close"),this.returnToList()},error:t=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.Ye),e.Y36(u.I),e.Y36(Z.T),e.Y36(f.v),e.Y36(_.C),e.Y36(C.c),e.Y36(T.P),e.Y36(v.A),e.Y36(p.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create"]],decls:85,vars:14,consts:[[1,"row"],[1,"col-12","mx-auto"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],[1,"form-label"],["formControlName","name","matInput","","requeried","","maxlength","50"],[4,"ngIf"],["matInput","","formControlName","date","placeholder","Seleccione....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-10","containerToggle"],["formControlName","area","requeried",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-2","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],["formControlName","laboratory","requeried",""],[1,"col-12"],[1,"col-11","containerToggle"],["formControlName","sample_forms","requeried",""],[1,"col-1","padding-btn",2,"display","inline-block"],[1,"col-md-6"],["formControlName","analysis_types","requeried",""],["formControlName","analisys_state","requeried",""],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div"),e._UZ(6,"i",5),e.qZA(),e.TgZ(7,"h5",6),e._uU(8,"Create sample froms request"),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(11,"div",8),e.TgZ(12,"mat-form-field",9),e.TgZ(13,"mat-label",10),e._uU(14,"Name:"),e.qZA(),e._UZ(15,"input",11),e.YNc(16,k,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"mat-form-field",9),e._UZ(19,"input",13),e._UZ(20,"mat-datepicker-toggle",14),e._UZ(21,"mat-datepicker",null,15),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"div",16),e.TgZ(25,"mat-form-field",9),e.TgZ(26,"mat-label",10),e._uU(27,"Area:"),e.qZA(),e.TgZ(28,"mat-select",17),e.YNc(29,N,2,2,"mat-option",18),e.qZA(),e.YNc(30,J,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(31,"div",19),e.TgZ(32,"button",20),e.NdJ("click",function(l){return l.stopPropagation(),n.goTo("area")}),e._UZ(33,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",8),e.TgZ(35,"div",16),e.TgZ(36,"mat-form-field",9),e.TgZ(37,"mat-label",10),e._uU(38,"Laboratory:"),e.qZA(),e.TgZ(39,"mat-select",22),e.YNc(40,F,2,2,"mat-option",18),e.qZA(),e.YNc(41,Q,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(42,"div",19),e.TgZ(43,"button",20),e.NdJ("click",function(l){return l.stopPropagation(),n.goTo("laboratory")}),e._UZ(44,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",23),e.TgZ(46,"div",24),e.TgZ(47,"mat-form-field",9),e.TgZ(48,"mat-label",10),e._uU(49,"Sample forms:"),e.qZA(),e.TgZ(50,"mat-select",25),e.YNc(51,O,2,2,"mat-option",18),e.qZA(),e.YNc(52,B,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(53,"div",26),e.TgZ(54,"button",20),e.NdJ("click",function(l){return l.stopPropagation(),n.goTo("sample-forms")}),e._UZ(55,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",27),e.TgZ(57,"div",16),e.TgZ(58,"mat-form-field",9),e.TgZ(59,"mat-label",10),e._uU(60,"Analysis type:"),e.qZA(),e.TgZ(61,"mat-select",28),e.YNc(62,L,2,2,"mat-option",18),e.qZA(),e.YNc(63,E,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(64,"div",19),e.TgZ(65,"button",20),e.NdJ("click",function(l){return l.stopPropagation(),n.goTo("analysis-type")}),e._UZ(66,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",27),e.TgZ(68,"div",16),e.TgZ(69,"mat-form-field",9),e.TgZ(70,"mat-label",10),e._uU(71,"Analysis state:"),e.qZA(),e.TgZ(72,"mat-select",29),e.YNc(73,P,2,2,"mat-option",18),e.qZA(),e.YNc(74,R,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(75,"div",19),e.TgZ(76,"button",20),e.NdJ("click",function(l){return l.stopPropagation(),n.goTo("analysis-state")}),e._UZ(77,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"div",30),e.TgZ(79,"div",31),e.TgZ(80,"button",32),e.NdJ("click",function(l){return l.stopPropagation(),n.returnToList()}),e._uU(81," Cancel "),e.qZA(),e.qZA(),e.TgZ(82,"div",31),e.TgZ(83,"button",33),e._uU(84," Add "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const s=e.MAs(22);e.xp6(10),e.Q6J("formGroup",n.videoForm),e.xp6(6),e.Q6J("ngIf",n.nameControl&&n.nameControl.invalid),e.xp6(3),e.Q6J("matDatepicker",s),e.xp6(1),e.Q6J("for",s),e.xp6(9),e.Q6J("ngForOf",n.dataArea),e.xp6(1),e.Q6J("ngIf",n.areaControl&&n.areaControl.invalid),e.xp6(10),e.Q6J("ngForOf",n.dataLab),e.xp6(1),e.Q6J("ngIf",n.labControl&&n.labControl.invalid),e.xp6(10),e.Q6J("ngForOf",n.dataSample),e.xp6(1),e.Q6J("ngIf",n.sampleControl&&n.sampleControl.invalid),e.xp6(10),e.Q6J("ngForOf",n.dataAnalysis),e.xp6(1),e.Q6J("ngIf",n.analysisControl&&n.analysisControl.invalid),e.xp6(10),e.Q6J("ngForOf",n.dataState),e.xp6(1),e.Q6J("ngIf",n.stateControl&&n.stateControl.invalid)}},directives:[a._Y,a.JL,a.sg,c.KE,c.hX,a.Fj,A.Nt,a.JJ,a.u,a.nD,m.O5,g.hl,g.nW,c.R9,g.Mq,q.gD,m.sg,h.lW,c.TO,x.ey],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.padding-btn[_ngcontent-%COMP%]{padding:15px}.containerToggle[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]}),r})()}];let D=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.Bz.forChild($)],p.Bz]}),r})();var z=i(9151);let G=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[m.ez,D,z.q]]}),r})()}}]);