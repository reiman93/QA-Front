"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[938],{938:(tt,Z,n)=>{n.r(Z),n.d(Z,{EditModule:()=>V});var p=n(9808),g=n(1083),a=n(3075),t=n(5e3),_=n(5519),h=n(3424),A=n(1606),x=n(4819),T=n(6517),C=n(5628),q=n(4673),u=n(7322),y=n(7531),f=n(6856),b=n(4107),E=n(7423),I=n(508);function S(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function N(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.maxField," ")}}function F(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,S,2,1,"mat-error",12),t.YNc(2,N,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.nameControl.errors&&e.nameControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.videoForm.controls.name.hasError("maxLength"))}}function J(r,o){if(1&r&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Y(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function k(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.maxField," ")}}function Q(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,Y,2,1,"mat-error",12),t.YNc(2,k,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.areaControl.errors&&e.areaControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.videoForm.controls.area.hasError("maxLength"))}}function U(r,o){if(1&r&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function O(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function w(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.maxField," ")}}function B(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,O,2,1,"mat-error",12),t.YNc(2,w,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.labControl.errors&&e.labControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.videoForm.controls.laboratory.hasError("maxLength"))}}function L(r,o){if(1&r&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function j(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function M(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,j,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.sampleControl.errors&&e.sampleControl.errors.required)}}function D(r,o){if(1&r&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function R(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function $(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,R,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.analysisControl.errors&&e.analysisControl.errors.required)}}function z(r,o){if(1&r&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function G(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function P(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,G,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.stateControl.errors&&e.stateControl.errors.required)}}const W=[{path:"",component:(()=>{class r{constructor(e,i,l,s,m,d,c,v,H){this.location=e,this.servicio=i,this.areaService=l,this.laboratoryService=s,this.analysisService=m,this.typeService=d,this.sampleService=c,this.route=v,this.snakBarService=H,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.videoForm=new a.cw({name:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),area:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),laboratory:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),sample_forms:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analysis_types:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analisys_state:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.findById(),this.getAllArea(),this.getAllLab(),this.getAllAnalysis(),this.getAllSample(),this.getAllType()}findById(){this.id=this.route.snapshot.paramMap.get("id"),this.servicio.get(this.id,"sample-request-forms").subscribe(e=>{let i=e.data[0];this.videoForm.patchValue({name:i.name,date:i.date})})}get nameControl(){return this.videoForm.get("name")}get dateControl(){return this.videoForm.get("date")}get areaControl(){return this.videoForm.get("area")}get labControl(){return this.videoForm.get("laboratory")}get analysisControl(){return this.videoForm.get("analysis_types")}get stateControl(){return this.videoForm.get("analisys_state")}get sampleControl(){return this.videoForm.get("sample_forms")}returnToList(){this.location.back()}getAllLab(){this.laboratoryService.getAll("laboratory").subscribe({next:e=>{console.warn("fields sactions",e),this.dataLab=e.data,console.warn("this.dataAction",this.dataLab)},error:e=>{console.log("error",e),this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>console.info("complete")})}getAllArea(){this.areaService.getAll("area").subscribe({next:e=>{console.warn("fields sactions",e),this.dataArea=e.data,console.warn("this.dataAction",this.dataArea)},error:e=>{console.log("error",e),this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>console.info("complete")})}getAllAnalysis(){this.analysisService.getAll("analisys_state").subscribe({next:e=>{this.dataState=e.data},error:e=>{console.log("error",e),this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>console.info("complete")})}getAllType(){this.typeService.getAll("analysis_type").subscribe({next:e=>{this.dataAnalysis=e.data},error:e=>{console.log("error",e),this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>console.info("complete")})}getAllSample(){this.sampleService.getAll("sample-froms").subscribe({next:e=>{this.dataSample=e.data},error:e=>{console.log("error",e),this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>console.info("complete")})}submitForm(){var e,i,l,s,m,d,c;this.videoForm.valid&&this.servicio.update({id:parseInt(this.id),name:null===(e=this.nameControl)||void 0===e?void 0:e.value,date:null===(i=this.dateControl)||void 0===i?void 0:i.value,state_analisys_id:null===(l=this.stateControl)||void 0===l?void 0:l.value,analysis_types_id:null===(s=this.analysisControl)||void 0===s?void 0:s.value,areas_id:null===(m=this.areaControl)||void 0===m?void 0:m.value,sample_forms_id:null===(d=this.sampleControl)||void 0===d?void 0:d.value,laboratories_id:null===(c=this.labControl)||void 0===c?void 0:c.value,users_id:JSON.parse(sessionStorage.getItem("currentUser")).username},"sample-request-forms").subscribe({next:v=>{this.snakBarService.openSnackBar("Successfully edited","Close"),this.returnToList()},error:v=>{this.snakBarService.openSnackBar("Error editing data.","cerrar",{},"error")},complete:()=>console.info("complete")})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(p.Ye),t.Y36(_.I),t.Y36(h.T),t.Y36(A.v),t.Y36(x.C),t.Y36(T.c),t.Y36(C.P),t.Y36(g.gz),t.Y36(q.A))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit"]],decls:65,vars:14,consts:[[1,"row"],[1,"col-xl-7","mx-auto"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],[1,"requeried","form-label"],["formControlName","name","matInput","","maxlength","50"],[4,"ngIf"],["matInput","","formControlName","date","placeholder","Seleccione....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","area"],[3,"value",4,"ngFor","ngForOf"],["formControlName","laboratory"],[1,"col-12"],["formControlName","sample_forms"],[1,"col-md-6"],["formControlName","analysis_types"],["formControlName","analisys_state"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div"),t._UZ(6,"i",5),t.qZA(),t.TgZ(7,"h5",6),t._uU(8,"Edit sample froms request"),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"form",7),t.NdJ("ngSubmit",function(){return i.submitForm()}),t.TgZ(11,"div",8),t.TgZ(12,"mat-form-field",9),t.TgZ(13,"mat-label",10),t._uU(14,"Name:"),t.qZA(),t._UZ(15,"input",11),t.YNc(16,F,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(17,"div",8),t.TgZ(18,"mat-form-field",9),t._UZ(19,"input",13),t._UZ(20,"mat-datepicker-toggle",14),t._UZ(21,"mat-datepicker",null,15),t.qZA(),t.qZA(),t.TgZ(23,"div",8),t.TgZ(24,"mat-form-field",9),t.TgZ(25,"mat-label",10),t._uU(26,"Area:"),t.qZA(),t.TgZ(27,"mat-select",16),t.YNc(28,J,2,2,"mat-option",17),t.qZA(),t.YNc(29,Q,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(30,"div",8),t.TgZ(31,"mat-form-field",9),t.TgZ(32,"mat-label",10),t._uU(33,"Laboratory:"),t.qZA(),t.TgZ(34,"mat-select",18),t.YNc(35,U,2,2,"mat-option",17),t.qZA(),t.YNc(36,B,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(37,"div",19),t.TgZ(38,"mat-form-field",9),t.TgZ(39,"mat-label",10),t._uU(40,"Sample forms:"),t.qZA(),t.TgZ(41,"mat-select",20),t.YNc(42,L,2,2,"mat-option",17),t.qZA(),t.YNc(43,M,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(44,"div",21),t.TgZ(45,"mat-form-field",9),t.TgZ(46,"mat-label",10),t._uU(47,"Analysis type:"),t.qZA(),t.TgZ(48,"mat-select",22),t.YNc(49,D,2,2,"mat-option",17),t.qZA(),t.YNc(50,$,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(51,"div",21),t.TgZ(52,"mat-form-field",9),t.TgZ(53,"mat-label",10),t._uU(54,"Analysis state:"),t.qZA(),t.TgZ(55,"mat-select",23),t.YNc(56,z,2,2,"mat-option",17),t.qZA(),t.YNc(57,P,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(58,"div",24),t.TgZ(59,"div",25),t.TgZ(60,"button",26),t.NdJ("click",function(s){return s.stopPropagation(),i.returnToList()}),t._uU(61," Cancel "),t.qZA(),t.qZA(),t.TgZ(62,"div",25),t.TgZ(63,"button",27),t._uU(64," Accept "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const l=t.MAs(22);t.xp6(10),t.Q6J("formGroup",i.videoForm),t.xp6(6),t.Q6J("ngIf",i.nameControl&&i.nameControl.invalid),t.xp6(3),t.Q6J("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(8),t.Q6J("ngForOf",i.dataArea),t.xp6(1),t.Q6J("ngIf",i.areaControl&&i.areaControl.invalid),t.xp6(6),t.Q6J("ngForOf",i.dataLab),t.xp6(1),t.Q6J("ngIf",i.labControl&&i.labControl.invalid),t.xp6(6),t.Q6J("ngForOf",i.dataSample),t.xp6(1),t.Q6J("ngIf",i.sampleControl&&i.sampleControl.invalid),t.xp6(6),t.Q6J("ngForOf",i.dataAnalysis),t.xp6(1),t.Q6J("ngIf",i.analysisControl&&i.analysisControl.invalid),t.xp6(6),t.Q6J("ngForOf",i.dataState),t.xp6(1),t.Q6J("ngIf",i.stateControl&&i.stateControl.invalid)}},directives:[a._Y,a.JL,a.sg,u.KE,u.hX,a.Fj,y.Nt,a.JJ,a.u,a.nD,p.O5,f.hl,f.nW,u.R9,f.Mq,b.gD,p.sg,E.lW,u.TO,I.ey],styles:[""]}),r})()}];let X=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[g.Bz.forChild(W)],g.Bz]}),r})();var K=n(9151);let V=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.ez,X,K.q]]}),r})()}}]);