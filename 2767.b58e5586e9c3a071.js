"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[2767],{2767:(ee,d,i)=>{i.r(d),i.d(d,{CreateModule:()=>W});var s=i(9808),u=i(1083),a=i(3075),e=i(5e3),g=i(5519),f=i(3424),Z=i(1606),C=i(4819),_=i(6517),v=i(5628),A=i(4673),m=i(7322),T=i(7531),c=i(6856),h=i(4107),x=i(7423),q=i(508);function y(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function b(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function S(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,y,2,1,"mat-error",12),e.YNc(2,b,2,0,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.nameControl.errors&&r.nameControl.errors.required),e.xp6(1),e.Q6J("ngIf",r.videoForm.controls.name.hasError("maxLength"))}}function I(t,o){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.Q6J("value",r.id),e.xp6(1),e.hij(" ",r.name," ")}}function F(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function N(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function J(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,F,2,1,"mat-error",12),e.YNc(2,N,2,0,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.areaControl.errors&&r.areaControl.errors.required),e.xp6(1),e.Q6J("ngIf",r.videoForm.controls.area.hasError("maxLength"))}}function k(t,o){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.Q6J("value",r.id),e.xp6(1),e.hij(" ",r.name," ")}}function Q(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function U(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function Y(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,Q,2,1,"mat-error",12),e.YNc(2,U,2,0,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.labControl.errors&&r.labControl.errors.required),e.xp6(1),e.Q6J("ngIf",r.videoForm.controls.laboratory.hasError("maxLength"))}}function O(t,o){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.Q6J("value",r.id),e.xp6(1),e.hij(" ",r.name," ")}}function L(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function B(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,L,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.sampleControl.errors&&r.sampleControl.errors.required)}}function w(t,o){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.Q6J("value",r.id),e.xp6(1),e.hij(" ",r.name," ")}}function E(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function M(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,E,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.analysisControl.errors&&r.analysisControl.errors.required)}}function j(t,o){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.Q6J("value",r.id),e.xp6(1),e.hij(" ",r.name," ")}}function D(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Oqu(r.requiredField)}}function R(t,o){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,D,2,1,"mat-error",12),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.stateControl.errors&&r.stateControl.errors.required)}}const z=[{path:"",component:(()=>{class t{constructor(r,n,l,p,X,K,H,V){this.location=r,this.servicio=n,this.areaService=l,this.laboratoryService=p,this.analysisService=X,this.typeService=K,this.sampleService=H,this.snakBarService=V,this.requiredField="Campo requerido",this.videoForm=new a.cw({name:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(50)],updateOn:"change"}),area:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),laboratory:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),sample_forms:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analysis_types:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"}),analisys_state:new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){$("#date").bootstrapMaterialDatePicker({time:!1}),this.getAllArea(),this.getAllLab(),this.getAllAnalysis(),this.getAllSample(),this.getAllType()}get nameControl(){return this.videoForm.get("name")}get dateControl(){return this.videoForm.get("date")}get areaControl(){return this.videoForm.get("area")}get labControl(){return this.videoForm.get("laboratory")}get analysisControl(){return this.videoForm.get("analysis_types")}get stateControl(){return this.videoForm.get("analisys_state")}get sampleControl(){return this.videoForm.get("sample_forms")}returnToList(){this.location.back()}getAllLab(){this.laboratoryService.getAll("laboratory").subscribe({next:r=>{console.warn("fields sactions",r),this.dataLab=r.data,console.warn("this.dataAction",this.dataLab)},error:r=>{console.log("error",r),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllArea(){this.areaService.getAll("area").subscribe({next:r=>{console.warn("fields sactions",r),this.dataArea=r.data,console.warn("this.dataAction",this.dataArea)},error:r=>{console.log("error",r),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllAnalysis(){this.analysisService.getAll("analisys_state").subscribe({next:r=>{this.dataState=r.data},error:r=>{console.log("error",r),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllType(){this.typeService.getAll("analysis_type").subscribe({next:r=>{this.dataAnalysis=r.data},error:r=>{console.log("error",r),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllSample(){this.sampleService.getAll("sample-froms").subscribe({next:r=>{this.dataSample=r.data},error:r=>{console.log("error",r),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}submitForm(){this.videoForm.valid&&this.servicio.create(this.videoForm.value,JSON.parse(sessionStorage.getItem("currentUser")).username,"sample-request-forms").subscribe({next:r=>{this.snakBarService.openSnackBar("Creado correctamente","Cerrar"),this.returnToList()},error:r=>{this.snakBarService.openSnackBar("Error al crear los datos.","cerrar",{},"error")},complete:()=>console.info("complete")})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(s.Ye),e.Y36(g.I),e.Y36(f.T),e.Y36(Z.v),e.Y36(C.C),e.Y36(_.c),e.Y36(v.P),e.Y36(A.A))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create"]],decls:65,vars:14,consts:[[1,"row"],[1,"col-xl-7","mx-auto"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],[1,"requeried","form-label"],["formControlName","name","matInput","","maxlength","50"],[4,"ngIf"],["matInput","","formControlName","date","placeholder","Seleccione....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","area"],[3,"value",4,"ngFor","ngForOf"],["formControlName","laboratory"],[1,"col-12"],["formControlName","sample_forms"],[1,"col-md-6"],["formControlName","analysis_types"],["formControlName","analisys_state"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div"),e._UZ(6,"i",5),e.qZA(),e.TgZ(7,"h5",6),e._uU(8,"Registrar formulario peticion simple"),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(11,"div",8),e.TgZ(12,"mat-form-field",9),e.TgZ(13,"mat-label",10),e._uU(14,"Nombre:"),e.qZA(),e._UZ(15,"input",11),e.YNc(16,S,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"mat-form-field",9),e._UZ(19,"input",13),e._UZ(20,"mat-datepicker-toggle",14),e._UZ(21,"mat-datepicker",null,15),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"mat-form-field",9),e.TgZ(25,"mat-label",10),e._uU(26,"Area:"),e.qZA(),e.TgZ(27,"mat-select",16),e.YNc(28,I,2,2,"mat-option",17),e.qZA(),e.YNc(29,J,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"mat-form-field",9),e.TgZ(32,"mat-label",10),e._uU(33,"Laboratorio:"),e.qZA(),e.TgZ(34,"mat-select",18),e.YNc(35,k,2,2,"mat-option",17),e.qZA(),e.YNc(36,Y,3,2,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(37,"div",19),e.TgZ(38,"mat-form-field",9),e.TgZ(39,"mat-label",10),e._uU(40,"Formulario simple:"),e.qZA(),e.TgZ(41,"mat-select",20),e.YNc(42,O,2,2,"mat-option",17),e.qZA(),e.YNc(43,B,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(44,"div",21),e.TgZ(45,"mat-form-field",9),e.TgZ(46,"mat-label",10),e._uU(47,"Tipo de analisis:"),e.qZA(),e.TgZ(48,"mat-select",22),e.YNc(49,w,2,2,"mat-option",17),e.qZA(),e.YNc(50,M,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(51,"div",21),e.TgZ(52,"mat-form-field",9),e.TgZ(53,"mat-label",10),e._uU(54,"Analisis de estado:"),e.qZA(),e.TgZ(55,"mat-select",23),e.YNc(56,j,2,2,"mat-option",17),e.qZA(),e.YNc(57,R,2,1,"mat-error",12),e.qZA(),e.qZA(),e.TgZ(58,"div",24),e.TgZ(59,"div",25),e.TgZ(60,"button",26),e.NdJ("click",function(p){return p.stopPropagation(),n.returnToList()}),e._uU(61," Cancelar "),e.qZA(),e.qZA(),e.TgZ(62,"div",25),e.TgZ(63,"button",27),e._uU(64," Aceptar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const l=e.MAs(22);e.xp6(10),e.Q6J("formGroup",n.videoForm),e.xp6(6),e.Q6J("ngIf",n.nameControl&&n.nameControl.invalid),e.xp6(3),e.Q6J("matDatepicker",l),e.xp6(1),e.Q6J("for",l),e.xp6(8),e.Q6J("ngForOf",n.dataArea),e.xp6(1),e.Q6J("ngIf",n.areaControl&&n.areaControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataLab),e.xp6(1),e.Q6J("ngIf",n.labControl&&n.labControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataSample),e.xp6(1),e.Q6J("ngIf",n.sampleControl&&n.sampleControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataAnalysis),e.xp6(1),e.Q6J("ngIf",n.analysisControl&&n.analysisControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataState),e.xp6(1),e.Q6J("ngIf",n.stateControl&&n.stateControl.invalid)}},directives:[a._Y,a.JL,a.sg,m.KE,m.hX,a.Fj,T.Nt,a.JJ,a.u,a.nD,s.O5,c.hl,c.nW,m.R9,c.Mq,h.gD,s.sg,x.lW,m.TO,q.ey],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(z)],u.Bz]}),t})();var G=i(9151);let W=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,P,G.q]]}),t})()}}]);