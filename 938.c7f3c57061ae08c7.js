"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[938],{938:(tt,v,n)=>{n.r(v),n.d(v,{EditModule:()=>K});var u=n(9808),g=n(1083),i=n(3075),t=n(5e3),Z=n(5519),h=n(3424),x=n(1606),A=n(4819),T=n(6517),C=n(5628),q=n(4673),p=n(7322),y=n(7531),f=n(6856),b=n(4107),E=n(7423),I=n(508);function S(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function N(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.maxField)}}function F(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,S,2,1,"mat-error",12),t.YNc(2,N,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.nameControl.errors&&e.nameControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.videoForm.controls.name.hasError("maxLength"))}}function J(r,a){if(1&r&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Y(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function k(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.maxField)}}function Q(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,Y,2,1,"mat-error",12),t.YNc(2,k,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.areaControl.errors&&e.areaControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.videoForm.controls.area.hasError("maxLength"))}}function U(r,a){if(1&r&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function O(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function B(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.maxField)}}function w(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,O,2,1,"mat-error",12),t.YNc(2,B,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.labControl.errors&&e.labControl.errors.required),t.xp6(1),t.Q6J("ngIf",e.videoForm.controls.laboratory.hasError("maxLength"))}}function L(r,a){if(1&r&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function M(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function j(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,M,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.sampleControl.errors&&e.sampleControl.errors.required)}}function V(r,a){if(1&r&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function D(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function R(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,D,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.analysisControl.errors&&e.analysisControl.errors.required)}}function $(r,a){if(1&r&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&r){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function z(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Oqu(e.requiredField)}}function P(r,a){if(1&r&&(t.TgZ(0,"mat-error"),t.YNc(1,z,2,1,"mat-error",12),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.stateControl.errors&&e.stateControl.errors.required)}}const G=[{path:"",component:(()=>{class r{constructor(e,o,l,s,m,d,c,_,H){this.location=e,this.servicio=o,this.areaService=l,this.laboratoryService=s,this.analysisService=m,this.typeService=d,this.sampleService=c,this.route=_,this.snakBarService=H,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.videoForm=new i.cw({name:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(50)],updateOn:"change"}),date:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(50)],updateOn:"change"}),area:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(150)],updateOn:"change"}),laboratory:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(150)],updateOn:"change"}),sample_forms:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(150)],updateOn:"change"}),analysis_types:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(150)],updateOn:"change"}),analisys_state:new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.findById(),this.getAllArea(),this.getAllLab(),this.getAllAnalysis(),this.getAllSample(),this.getAllType()}findById(){this.id=this.route.snapshot.paramMap.get("id"),this.servicio.get(this.id,"sample-request-forms").subscribe(e=>{let o=e.data[0];console.warn("estooooo",o),this.analysisControl.setValue(o.analysis_types_id),this.labControl.setValue(o.laboratories_id),this.stateControl.setValue(o.state_analisys_id),this.areaControl.setValue(o.areas_id),this.sampleControl.setValue(o.sample_forms_id),this.videoForm.patchValue({name:o.name,date:o.date})})}get nameControl(){return this.videoForm.get("name")}get dateControl(){return this.videoForm.get("date")}get areaControl(){return this.videoForm.get("area")}get labControl(){return this.videoForm.get("laboratory")}get analysisControl(){return this.videoForm.get("analysis_types")}get stateControl(){return this.videoForm.get("analisys_state")}get sampleControl(){return this.videoForm.get("sample_forms")}returnToList(){this.location.back()}getAllLab(){this.laboratoryService.getAll("laboratory").subscribe({next:e=>{this.dataLab=e.data},error:e=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllArea(){this.areaService.getAll("area").subscribe({next:e=>{this.dataArea=e.data},error:e=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllAnalysis(){this.analysisService.getAll("analisys_state").subscribe({next:e=>{this.dataState=e.data},error:e=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllType(){this.typeService.getAll("analysis_type").subscribe({next:e=>{this.dataAnalysis=e.data},error:e=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}getAllSample(){this.sampleService.getAll("sample-froms").subscribe({next:e=>{this.dataSample=e.data},error:e=>{this.snakBarService.openSnackBar("Error getting data.","close",{},"error")},complete:()=>{}})}submitForm(){var e,o,l,s,m,d,c;this.videoForm.valid&&this.servicio.update({id:parseInt(this.id),name:null===(e=this.nameControl)||void 0===e?void 0:e.value,date:null===(o=this.dateControl)||void 0===o?void 0:o.value,state_analisys_id:null===(l=this.stateControl)||void 0===l?void 0:l.value,analysis_types_id:null===(s=this.analysisControl)||void 0===s?void 0:s.value,areas_id:null===(m=this.areaControl)||void 0===m?void 0:m.value,sample_forms_id:null===(d=this.sampleControl)||void 0===d?void 0:d.value,laboratories_id:null===(c=this.labControl)||void 0===c?void 0:c.value,users_id:JSON.parse(sessionStorage.getItem("currentUser")).username},"sample-request-forms").subscribe({next:_=>{this.snakBarService.openSnackBar("Successfully edited","Close"),this.returnToList()},error:_=>{this.snakBarService.openSnackBar("Error editing data.","cerrar",{},"error")},complete:()=>{}})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(u.Ye),t.Y36(Z.I),t.Y36(h.T),t.Y36(x.v),t.Y36(A.C),t.Y36(T.c),t.Y36(C.P),t.Y36(g.gz),t.Y36(q.A))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit"]],decls:65,vars:14,consts:[[1,"row"],[1,"col-12","mx-auto"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],[1,"form-label"],["formControlName","name","requeried","","matInput","","maxlength","50"],[4,"ngIf"],["matInput","","requeried","","formControlName","date","placeholder","Seleccione....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","area","requeried",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","laboratory","requeried",""],[1,"col-12"],["formControlName","sample_forms","requeried",""],[1,"col-md-6"],["formControlName","analysis_types","requeried",""],["requeried","",1,"form-label"],["formControlName","analisys_state"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div"),t._UZ(6,"i",5),t.qZA(),t.TgZ(7,"h5",6),t._uU(8,"Edit sample froms request"),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"form",7),t.NdJ("ngSubmit",function(){return o.submitForm()}),t.TgZ(11,"div",8),t.TgZ(12,"mat-form-field",9),t.TgZ(13,"mat-label",10),t._uU(14,"Name:"),t.qZA(),t._UZ(15,"input",11),t.YNc(16,F,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(17,"div",8),t.TgZ(18,"mat-form-field",9),t._UZ(19,"input",13),t._UZ(20,"mat-datepicker-toggle",14),t._UZ(21,"mat-datepicker",null,15),t.qZA(),t.qZA(),t.TgZ(23,"div",8),t.TgZ(24,"mat-form-field",9),t.TgZ(25,"mat-label",10),t._uU(26,"Area:"),t.qZA(),t.TgZ(27,"mat-select",16),t.YNc(28,J,2,2,"mat-option",17),t.qZA(),t.YNc(29,Q,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(30,"div",8),t.TgZ(31,"mat-form-field",9),t.TgZ(32,"mat-label",10),t._uU(33,"Laboratory:"),t.qZA(),t.TgZ(34,"mat-select",18),t.YNc(35,U,2,2,"mat-option",17),t.qZA(),t.YNc(36,w,3,2,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(37,"div",19),t.TgZ(38,"mat-form-field",9),t.TgZ(39,"mat-label",10),t._uU(40,"Sample forms:"),t.qZA(),t.TgZ(41,"mat-select",20),t.YNc(42,L,2,2,"mat-option",17),t.qZA(),t.YNc(43,j,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(44,"div",21),t.TgZ(45,"mat-form-field",9),t.TgZ(46,"mat-label",10),t._uU(47,"Analysis type:"),t.qZA(),t.TgZ(48,"mat-select",22),t.YNc(49,V,2,2,"mat-option",17),t.qZA(),t.YNc(50,R,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(51,"div",21),t.TgZ(52,"mat-form-field",9),t.TgZ(53,"mat-label",23),t._uU(54," Analysis state: "),t.qZA(),t.TgZ(55,"mat-select",24),t.YNc(56,$,2,2,"mat-option",17),t.qZA(),t.YNc(57,P,2,1,"mat-error",12),t.qZA(),t.qZA(),t.TgZ(58,"div",25),t.TgZ(59,"div",26),t.TgZ(60,"button",27),t.NdJ("click",function(s){return s.stopPropagation(),o.returnToList()}),t._uU(61," Cancel "),t.qZA(),t.qZA(),t.TgZ(62,"div",26),t.TgZ(63,"button",28),t._uU(64," Edit "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const l=t.MAs(22);t.xp6(10),t.Q6J("formGroup",o.videoForm),t.xp6(6),t.Q6J("ngIf",o.nameControl&&o.nameControl.invalid),t.xp6(3),t.Q6J("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(8),t.Q6J("ngForOf",o.dataArea),t.xp6(1),t.Q6J("ngIf",o.areaControl&&o.areaControl.invalid),t.xp6(6),t.Q6J("ngForOf",o.dataLab),t.xp6(1),t.Q6J("ngIf",o.labControl&&o.labControl.invalid),t.xp6(6),t.Q6J("ngForOf",o.dataSample),t.xp6(1),t.Q6J("ngIf",o.sampleControl&&o.sampleControl.invalid),t.xp6(6),t.Q6J("ngForOf",o.dataAnalysis),t.xp6(1),t.Q6J("ngIf",o.analysisControl&&o.analysisControl.invalid),t.xp6(6),t.Q6J("ngForOf",o.dataState),t.xp6(1),t.Q6J("ngIf",o.stateControl&&o.stateControl.invalid)}},directives:[i._Y,i.JL,i.sg,p.KE,p.hX,i.Fj,y.Nt,i.JJ,i.u,i.nD,u.O5,f.hl,f.nW,p.R9,f.Mq,b.gD,u.sg,E.lW,p.TO,I.ey],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}"]}),r})()}];let W=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[g.Bz.forChild(G)],g.Bz]}),r})();var X=n(9151);let K=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[u.ez,W,X.q]]}),r})()}}]);