"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[9673],{9673:(et,F,m)=>{m.r(F),m.d(F,{ListModule:()=>Ke});var _=m(9808),Z=m(1083),e=m(5e3),a=m(3075),f=m(520),v=m(4004),A=m(9183),x=m(7429);const S={headers:new f.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Headers":"Authorization, X-API-KEY, Origin, X-Requested-With, Content-Type, Accept, Access-Control-Allow-Request-Method","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, DELETE"})};let k=(()=>{class i{constructor(t,o){this.httpClient=t,this.enviroment=o,this.url=A.H}findAllPagination(t,o,n,l){return this.httpClient.post(this.enviroment.config.url+"storeCcpLactic",{skip:t,take:o,sortField:n,orSearchFields:l,select:[]}).pipe((0,v.U)(s=>s.data.lactic_acids))}create(t,o){return this.httpClient.post(this.enviroment.config.url+o,t,S).pipe((0,v.U)(n=>n))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(f.eN),e.LFG(x.y))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var C=m(4673),T=m(5801),b=m(3516),q=m(651),d=m(7322),y=m(7531),u=m(6856),h=m(3271),N=m(4107),w=m(7423),p=m(9386),g=m(4999),I=m(508);const J=["tabla"];function M(i,r){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function U(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function O(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,U,2,1,"mat-error",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.preventiveControl.errors&&t.preventiveControl.errors.required)}}function Q(i,r){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function P(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function L(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,P,2,1,"mat-error",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.correctiveControl.errors&&t.correctiveControl.errors.required)}}function Y(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",44),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function D(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",45,46),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function H(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"textarea",47),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function E(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.requiredField)}}function $(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.notNumberField)}}function B(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function z(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,E,2,1,"mat-error",18),e.YNc(2,$,2,1,"mat-error",18),e.YNc(3,B,2,0,"mat-error",18),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.required),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.notNumber),e.xp6(1),e.Q6J("ngIf",o.mainForm.controls[t.name].hasError("maxLength"))}}function G(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"mat-form-field",8),e.TgZ(2,"mat-label",15),e._uU(3),e.qZA(),e.YNc(4,Y,1,2,"input",41),e.YNc(5,D,2,2,"input",42),e.YNc(6,H,1,2,"textarea",43),e.YNc(7,z,4,3,"mat-error",18),e.qZA(),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Tol(t.class),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf","input"==t.type),e.xp6(1),e.Q6J("ngIf","number"==t.type),e.xp6(1),e.Q6J("ngIf","text"==t.type),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name)&&o.mainForm.get(t.name).invalid)}}function j(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.date," ")}}function R(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.initial_time," ")}}function V(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.shift," ")}}function X(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.visualizar_name," ")}}function W(i,r){if(1&i&&(e.TgZ(0,"td",49),e._UZ(1,"img",50),e._uU(2),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.s9C("src",o.fotoT[t.id],e.LSH),e.xp6(1),e.hij(" ",t.users.name," ")}}const K=function(){return[5,10,25,100]};let ee=(()=>{class i{constructor(t,o,n,l,c,s){this.service=t,this.snakBarService=o,this.servicioAction=n,this.servicioPreventive=l,this.router=c,this.dataGridService=s,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.notNumberField="Only allowed numbers.",this.period="",this.fotoT=[],this.mainForm=new a.cw({time:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),preventive_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),corrective_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"})})}ngOnInit(){this.nameQA=JSON.parse(sessionStorage.getItem("currentUser")).name,this.foto=JSON.parse(sessionStorage.getItem("currentUser")).foto,this.dataGridService.dataGrid.subscribe(t=>{t instanceof Array&&t.forEach((o,n)=>{this.fotoT[o.id]=o.users&&o.users.foto?o.users.foto:"assets/img/user.png"})}),this.getAllAction(),this.getAllPreventive(),this.addInputControl()}get timeControl(){return this.mainForm.get("time")}get dateControl(){return this.mainForm.get("date")}get correctiveControl(){return this.mainForm.get("corrective_action")}get preventiveControl(){return this.mainForm.get("preventive_action")}getAllAction(){this.servicioAction.getAll("relapse_action").subscribe({next:t=>{this.dataAction=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}getAllPreventive(){this.servicioPreventive.getAll("preventive_action").subscribe({next:t=>{this.dataPreventive=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}submitForm(){this.mainForm.valid&&(this.fillData(),this.service.create(this.dataSend,"ccp-lactic").subscribe({next:t=>{this.snakBarService.openSnackBar("Successfully created","Close"),this.tabla.reloadData()},error:t=>{this.snakBarService.openSnackBar("Error creating data.","Close",{},"error")},complete:()=>{}}))}clearForm(){this.mainForm.reset()}addInputControl(){let t=new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(10)],updateOn:"change"}),o=new a.NI(null,{validators:[a.kI.required,this.isNumberValidation()],updateOn:"change"});this.fields.forEach((n,l)=>{this.mainForm.addControl(n.name,"number"==n.type?o:t),this.dataSend={[n.name]:null}})}fillData(){var t,o,n,l;this.fields.forEach((c,s)=>{this.dataSend[c.name]=c.model}),this.dataSend.monitor_name=JSON.parse(sessionStorage.getItem("currentUser")).username,this.dataSend.date=null===(t=this.dateControl)||void 0===t?void 0:t.value,this.dataSend.initial_time=null===(o=this.timeControl)||void 0===o?void 0:o.value,this.dataSend.correctuve_action_id=null===(n=this.correctiveControl)||void 0===n?void 0:n.value,this.dataSend.preventive_action_id=null===(l=this.preventiveControl)||void 0===l?void 0:l.value}goTo(t){this.router.navigate(["pages/nomenclators/"+t+"/create"])}isNumberValidation(){return function(t){return null!==t.value&&isNaN(+t.value)?{notNumber:!0}:null}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k),e.Y36(C.A),e.Y36(T.b),e.Y36(b.v),e.Y36(Z.F0),e.Y36(q.A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lactic-acid"]],viewQuery:function(t,o){if(1&t&&e.Gf(J,5),2&t){let n;e.iGM(n=e.CRH())&&(o.tabla=n.first)}},inputs:{period:"period",fields:"fields"},decls:72,vars:21,consts:[[1,"card-title","d-flex","align-items-center"],[1,"customers-list-item","d-flex","align-items-center","p-2","cursor-pointer"],["width","80","height","80","alt","user avatar",1,"rounded-circle",3,"src"],[1,"ms-2"],[1,"mb-1","font-14","text-white"],[1,"font-size-sm"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],["matInput","","formControlName","date","placeholder","Select date....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","time","placeholder","Select time....",3,"ngxTimepicker"],["timepicker",""],[1,"col-10","containerBtn"],[1,"form-label"],["formControlName","preventive_action","requeried",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-2","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],["formControlName","corrective_action","requeried",""],[3,"class",4,"ngFor","ngForOf"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"selectAvailable","serviceData","verticalLine"],["tabla",""],["title","Date","matColumnDef","date","type","string",3,"sort"],["mat-cell","","style","text-align: right",4,"matCellDef"],["title","Initial time","matColumnDef","initial_time","type","string",3,"sort"],["title","Shift","matColumnDef","shift","type","string",3,"sort"],["title","Visualizar name","matColumnDef","visualizar_name","type","string",3,"sort"],["title","QA last reviewer","matColumnDef","users","type","string",3,"sort"],["mat-cell","","style","text-align: left",4,"matCellDef"],[2,"display","none"],[3,"pageSizeOptions"],["mat-raised-button","","color","warn",3,"click"],[3,"value"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange"],["numberItem",""],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange"],["mat-cell","",2,"text-align","right"],["mat-cell","",2,"text-align","left"],["width","40","height","40","alt","user avatar",1,"rounded-circle","mySpacer",3,"src"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"h5",4),e._uU(6,"Audited by:"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(11,"div",7),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e._UZ(14,"mat-datepicker-toggle",10),e._UZ(15,"mat-datepicker",null,11),e.qZA(),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",12),e._UZ(20,"ngx-material-timepicker",null,13),e.qZA(),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"div",14),e.TgZ(24,"mat-form-field",8),e.TgZ(25,"mat-label",15),e._uU(26,"Preventive actions:"),e.qZA(),e.TgZ(27,"mat-select",16),e.YNc(28,M,2,2,"mat-option",17),e.qZA(),e.YNc(29,O,2,1,"mat-error",18),e.qZA(),e.qZA(),e.TgZ(30,"div",19),e.TgZ(31,"button",20),e.NdJ("click",function(c){return c.stopPropagation(),o.goTo("preventive-actions")}),e._UZ(32,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",7),e.TgZ(34,"div",14),e.TgZ(35,"mat-form-field",8),e.TgZ(36,"mat-label",15),e._uU(37,"Corrective actions:"),e.qZA(),e.TgZ(38,"mat-select",22),e.YNc(39,Q,2,2,"mat-option",17),e.qZA(),e.YNc(40,L,2,1,"mat-error",18),e.qZA(),e.qZA(),e.TgZ(41,"div",19),e.TgZ(42,"button",20),e.NdJ("click",function(c){return c.stopPropagation(),o.goTo("actions")}),e._UZ(43,"i",21),e.qZA(),e.qZA(),e.qZA(),e.YNc(44,G,8,8,"div",23),e.TgZ(45,"div",24),e.TgZ(46,"div",25),e.TgZ(47,"button",26),e.NdJ("click",function(c){return c.stopPropagation(),o.clearForm()}),e._uU(48," Cancel "),e.qZA(),e.qZA(),e.TgZ(49,"div",25),e.TgZ(50,"button",27),e._uU(51," Add "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(52,"hr"),e.TgZ(53,"app-mat-data-table",28,29),e.TgZ(55,"app-mat-column-table",30),e.YNc(56,j,2,1,"td",31),e.qZA(),e.TgZ(57,"app-mat-column-table",32),e.YNc(58,R,2,1,"td",31),e.qZA(),e.TgZ(59,"app-mat-column-table",33),e.YNc(60,V,2,1,"td",31),e.qZA(),e.TgZ(61,"app-mat-column-table",34),e.YNc(62,X,2,1,"td",31),e.qZA(),e.TgZ(63,"app-mat-column-table",35),e.YNc(64,W,3,2,"td",36),e.qZA(),e._UZ(65,"div",37),e._UZ(66,"app-mat-paginator-data-table",38),e.TgZ(67,"app-mat-error-data-table"),e._uU(68," There are problems to load data. "),e._UZ(69,"br"),e.TgZ(70,"button",39),e.NdJ("click",function(){return e.CHM(n),e.MAs(54).reloadData()}),e._uU(71," Reload "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.MAs(16),l=e.MAs(21);e.xp6(3),e.s9C("src",o.foto,e.LSH),e.xp6(5),e.Oqu(o.nameQA),e.xp6(2),e.Q6J("formGroup",o.mainForm),e.xp6(3),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(5),e.Q6J("ngxTimepicker",l),e.xp6(9),e.Q6J("ngForOf",o.dataPreventive),e.xp6(1),e.Q6J("ngIf",o.preventiveControl&&o.preventiveControl.invalid),e.xp6(10),e.Q6J("ngForOf",o.dataAction),e.xp6(1),e.Q6J("ngIf",o.correctiveControl&&o.correctiveControl.invalid),e.xp6(4),e.Q6J("ngForOf",o.fields),e.xp6(9),e.Q6J("selectAvailable",!1)("serviceData",o.service)("verticalLine",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(3),e.Q6J("pageSizeOptions",e.DdM(20,K))}},directives:[a._Y,a.JL,a.sg,d.KE,y.Nt,a.Fj,u.hl,a.JJ,a.u,u.nW,d.R9,u.Mq,h.I2,h.ro,d.hX,N.gD,_.sg,_.O5,w.lW,p.Zc,p.PT,g.w1,g.Dz,p.y0,p.DV,I.ey,d.TO,a.Q7,a.nD,g.ev],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.margin-toogle[_ngcontent-%COMP%]{margin-left:2.5px;margin-right:5px}.label-toogle[_ngcontent-%COMP%]{vertical-align:top}.containerBtn[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.padding-btn[_ngcontent-%COMP%]{padding:15px}.containerToggle[_ngcontent-%COMP%]{display:inline-block;width:130px;vertical-align:top}  th.mat-header-cell{color:#1a73e861!important}  .mat-checkbox .mat-checkbox-ripple .mat-ripple-element{background-color:#1a73e861!important}  .mat-checkbox .mat-checkbox-frame{border-color:#1a73e861!important}  .mat-tooltip-trigger .mat-button-wrapper{color:#1a73e861!important}  .mat-paginator-range-actions .mat-paginator-range-label{color:#1a73e861!important}  th.mat-header-cell{z-index:10!important}  mat-dialog-container{background:#222b45!important}  mat-dialog-container i{color:#fff!important}"]}),i})();const te={headers:new f.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Headers":"Authorization, X-API-KEY, Origin, X-Requested-With, Content-Type, Accept, Access-Control-Allow-Request-Method","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, DELETE"})};let ie=(()=>{class i{constructor(t,o){this.httpClient=t,this.enviroment=o,this.url=A.H}findAllPagination(t,o,n,l){return this.httpClient.post(this.enviroment.config.url+"storeSCCPeroxicetic",{skip:t,take:o,sortField:n,orSearchFields:l,select:[]}).pipe((0,v.U)(s=>s.data.peroxy_acids))}create(t,o){return this.httpClient.post(this.enviroment.config.url+o,t,te).pipe((0,v.U)(n=>n))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(f.eN),e.LFG(x.y))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oe=["tabla"];function re(i,r){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ne(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function ae(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,ne,2,1,"mat-error",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.preventiveControl.errors&&t.preventiveControl.errors.required)}}function le(i,r){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ce(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function me(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,ce,2,1,"mat-error",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.correctiveControl.errors&&t.correctiveControl.errors.required)}}function se(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",44),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function de(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",45,46),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function pe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"textarea",47),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function ue(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.requiredField)}}function ge(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.notNumberField)}}function _e(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function fe(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,ue,2,1,"mat-error",18),e.YNc(2,ge,2,1,"mat-error",18),e.YNc(3,_e,2,0,"mat-error",18),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.required),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.notNumber),e.xp6(1),e.Q6J("ngIf",o.mainForm.controls[t.name].hasError("maxLength"))}}function ve(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"mat-form-field",8),e.TgZ(2,"mat-label",15),e._uU(3),e.qZA(),e.YNc(4,se,1,2,"input",41),e.YNc(5,de,2,2,"input",42),e.YNc(6,pe,1,2,"textarea",43),e.YNc(7,fe,4,3,"mat-error",18),e.qZA(),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Tol(t.class),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf","input"==t.type),e.xp6(1),e.Q6J("ngIf","number"==t.type),e.xp6(1),e.Q6J("ngIf","text"==t.type),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name)&&o.mainForm.get(t.name).invalid)}}function he(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.date," ")}}function Ze(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.initial_time," ")}}function Ae(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.shift," ")}}function xe(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.visualizar_name," ")}}function Ce(i,r){if(1&i&&(e.TgZ(0,"td",49),e._UZ(1,"img",50),e._uU(2),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.s9C("src",o.fotoT[t.id],e.LSH),e.xp6(1),e.hij(" ",t.users.name," ")}}const Te=function(){return[5,10,25,100]};let be=(()=>{class i{constructor(t,o,n,l,c,s){this.service=t,this.snakBarService=o,this.servicioAction=n,this.servicioPreventive=l,this.router=c,this.dataGridService=s,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.notNumberField="Only allowed numbers.",this.period="",this.fotoT=[],this.mainForm=new a.cw({time:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),preventive_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),corrective_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"})})}ngOnInit(){this.nameQA=JSON.parse(sessionStorage.getItem("currentUser")).name,this.foto=JSON.parse(sessionStorage.getItem("currentUser")).foto,this.dataGridService.dataGrid.subscribe(t=>{t instanceof Array&&t.forEach((o,n)=>{this.fotoT[o.id]=o.users&&o.users.foto?o.users.foto:"assets/img/user.png"})}),this.getAllAction(),this.getAllPreventive(),this.addInputControl()}get timeControl(){return this.mainForm.get("time")}get dateControl(){return this.mainForm.get("date")}get correctiveControl(){return this.mainForm.get("corrective_action")}get preventiveControl(){return this.mainForm.get("preventive_action")}getAllAction(){this.servicioAction.getAll("relapse_action").subscribe({next:t=>{this.dataAction=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}getAllPreventive(){this.servicioPreventive.getAll("preventive_action").subscribe({next:t=>{this.dataPreventive=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}submitForm(){this.mainForm.valid&&(this.fillData(),this.service.create(this.dataSend,"ccp-peroaxycetic").subscribe({next:t=>{this.snakBarService.openSnackBar("Successfully created","Close"),this.tabla.reloadData()},error:t=>{this.snakBarService.openSnackBar("Error creating data.","Close",{},"error")},complete:()=>{}}))}clearForm(){this.mainForm.reset()}addInputControl(){let t=new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(10)],updateOn:"change"}),o=new a.NI(null,{validators:[a.kI.required,this.isNumberValidation()],updateOn:"change"});this.fields.forEach((n,l)=>{this.mainForm.addControl(n.name,"number"==n.type?o:t),this.dataSend={[n.name]:null}})}fillData(){var t,o,n,l;this.fields.forEach((c,s)=>{this.dataSend[c.name]=c.model}),this.dataSend.monitor_name=JSON.parse(sessionStorage.getItem("currentUser")).username,this.dataSend.date=null===(t=this.dateControl)||void 0===t?void 0:t.value,this.dataSend.initial_time=null===(o=this.timeControl)||void 0===o?void 0:o.value,this.dataSend.correctuve_action_id=null===(n=this.correctiveControl)||void 0===n?void 0:n.value,this.dataSend.preventive_action_id=null===(l=this.preventiveControl)||void 0===l?void 0:l.value}goTo(t){this.router.navigate(["pages/nomenclators/"+t+"/create"])}isNumberValidation(){return function(t){return null!==t.value&&isNaN(+t.value)?{notNumber:!0}:null}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ie),e.Y36(C.A),e.Y36(T.b),e.Y36(b.v),e.Y36(Z.F0),e.Y36(q.A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-peroxy-acid"]],viewQuery:function(t,o){if(1&t&&e.Gf(oe,5),2&t){let n;e.iGM(n=e.CRH())&&(o.tabla=n.first)}},inputs:{period:"period",fields:"fields"},decls:72,vars:21,consts:[[1,"card-title","d-flex","align-items-center"],[1,"customers-list-item","d-flex","align-items-center","p-2","cursor-pointer"],["width","80","height","80","alt","user avatar",1,"rounded-circle",3,"src"],[1,"ms-2"],[1,"mb-1","font-14","text-white"],[1,"font-size-sm"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],["matInput","","formControlName","date","placeholder","Select date....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","time","placeholder","Select time....",3,"ngxTimepicker"],["timepicker",""],[1,"col-10","containerBtn"],[1,"form-label"],["formControlName","preventive_action","requeried",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-2","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],["formControlName","corrective_action","requeried",""],[3,"class",4,"ngFor","ngForOf"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"selectAvailable","serviceData","verticalLine"],["tabla",""],["title","Date","matColumnDef","date","type","string",3,"sort"],["mat-cell","","style","text-align: right",4,"matCellDef"],["title","Initial time","matColumnDef","initial_time","type","string",3,"sort"],["title","Shift","matColumnDef","shift","type","string",3,"sort"],["title","Visualizar name","matColumnDef","visualizar_name","type","string",3,"sort"],["title","QA last reviewer","matColumnDef","users","type","string",3,"sort"],["mat-cell","","style","text-align: left",4,"matCellDef"],[2,"display","none"],[3,"pageSizeOptions"],["mat-raised-button","","color","warn",3,"click"],[3,"value"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange"],["numberItem",""],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange"],["mat-cell","",2,"text-align","right"],["mat-cell","",2,"text-align","left"],["width","40","height","40","alt","user avatar",1,"rounded-circle","mySpacer",3,"src"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"h5",4),e._uU(6,"Audited by:"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(11,"div",7),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e._UZ(14,"mat-datepicker-toggle",10),e._UZ(15,"mat-datepicker",null,11),e.qZA(),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",12),e._UZ(20,"ngx-material-timepicker",null,13),e.qZA(),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"div",14),e.TgZ(24,"mat-form-field",8),e.TgZ(25,"mat-label",15),e._uU(26,"Preventive actions:"),e.qZA(),e.TgZ(27,"mat-select",16),e.YNc(28,re,2,2,"mat-option",17),e.qZA(),e.YNc(29,ae,2,1,"mat-error",18),e.qZA(),e.qZA(),e.TgZ(30,"div",19),e.TgZ(31,"button",20),e.NdJ("click",function(c){return c.stopPropagation(),o.goTo("preventive-actions")}),e._UZ(32,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",7),e.TgZ(34,"div",14),e.TgZ(35,"mat-form-field",8),e.TgZ(36,"mat-label",15),e._uU(37,"Corrective actions:"),e.qZA(),e.TgZ(38,"mat-select",22),e.YNc(39,le,2,2,"mat-option",17),e.qZA(),e.YNc(40,me,2,1,"mat-error",18),e.qZA(),e.qZA(),e.TgZ(41,"div",19),e.TgZ(42,"button",20),e.NdJ("click",function(c){return c.stopPropagation(),o.goTo("actions")}),e._UZ(43,"i",21),e.qZA(),e.qZA(),e.qZA(),e.YNc(44,ve,8,8,"div",23),e.TgZ(45,"div",24),e.TgZ(46,"div",25),e.TgZ(47,"button",26),e.NdJ("click",function(c){return c.stopPropagation(),o.clearForm()}),e._uU(48," Cancel "),e.qZA(),e.qZA(),e.TgZ(49,"div",25),e.TgZ(50,"button",27),e._uU(51," Add "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(52,"hr"),e.TgZ(53,"app-mat-data-table",28,29),e.TgZ(55,"app-mat-column-table",30),e.YNc(56,he,2,1,"td",31),e.qZA(),e.TgZ(57,"app-mat-column-table",32),e.YNc(58,Ze,2,1,"td",31),e.qZA(),e.TgZ(59,"app-mat-column-table",33),e.YNc(60,Ae,2,1,"td",31),e.qZA(),e.TgZ(61,"app-mat-column-table",34),e.YNc(62,xe,2,1,"td",31),e.qZA(),e.TgZ(63,"app-mat-column-table",35),e.YNc(64,Ce,3,2,"td",36),e.qZA(),e._UZ(65,"div",37),e._UZ(66,"app-mat-paginator-data-table",38),e.TgZ(67,"app-mat-error-data-table"),e._uU(68," There are problems to load data. "),e._UZ(69,"br"),e.TgZ(70,"button",39),e.NdJ("click",function(){return e.CHM(n),e.MAs(54).reloadData()}),e._uU(71," Reload "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.MAs(16),l=e.MAs(21);e.xp6(3),e.s9C("src",o.foto,e.LSH),e.xp6(5),e.Oqu(o.nameQA),e.xp6(2),e.Q6J("formGroup",o.mainForm),e.xp6(3),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(5),e.Q6J("ngxTimepicker",l),e.xp6(9),e.Q6J("ngForOf",o.dataPreventive),e.xp6(1),e.Q6J("ngIf",o.preventiveControl&&o.preventiveControl.invalid),e.xp6(10),e.Q6J("ngForOf",o.dataAction),e.xp6(1),e.Q6J("ngIf",o.correctiveControl&&o.correctiveControl.invalid),e.xp6(4),e.Q6J("ngForOf",o.fields),e.xp6(9),e.Q6J("selectAvailable",!1)("serviceData",o.service)("verticalLine",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(3),e.Q6J("pageSizeOptions",e.DdM(20,Te))}},directives:[a._Y,a.JL,a.sg,d.KE,y.Nt,a.Fj,u.hl,a.JJ,a.u,u.nW,d.R9,u.Mq,h.I2,h.ro,d.hX,N.gD,_.sg,_.O5,w.lW,p.Zc,p.PT,g.w1,g.Dz,p.y0,p.DV,I.ey,d.TO,a.Q7,a.nD,g.ev],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.margin-toogle[_ngcontent-%COMP%]{margin-left:2.5px;margin-right:5px}.label-toogle[_ngcontent-%COMP%]{vertical-align:top}.containerBtn[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.padding-btn[_ngcontent-%COMP%]{padding:15px}.containerToggle[_ngcontent-%COMP%]{display:inline-block;width:130px;vertical-align:top}  th.mat-header-cell{color:#1a73e861!important}  .mat-checkbox .mat-checkbox-ripple .mat-ripple-element{background-color:#1a73e861!important}  .mat-checkbox .mat-checkbox-frame{border-color:#1a73e861!important}  .mat-tooltip-trigger .mat-button-wrapper{color:#1a73e861!important}  .mat-paginator-range-actions .mat-paginator-range-label{color:#1a73e861!important}  th.mat-header-cell{z-index:10!important}  mat-dialog-container{background:#222b45!important}  mat-dialog-container i{color:#fff!important}"]}),i})();const qe={headers:new f.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Headers":"Authorization, X-API-KEY, Origin, X-Requested-With, Content-Type, Accept, Access-Control-Allow-Request-Method","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, DELETE"})};let ye=(()=>{class i{constructor(t,o){this.httpClient=t,this.enviroment=o,this.url=A.H}findAllPagination(t,o,n,l){return this.httpClient.post(this.enviroment.config.url+"storeSlugtherHACCPLog",{skip:t,take:o,sortField:n,orSearchFields:l,select:[]}).pipe((0,v.U)(s=>s.data.slugther_ccps1))}create(t,o){return this.httpClient.post(this.enviroment.config.url+o,t,qe).pipe((0,v.U)(n=>n))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(f.eN),e.LFG(x.y))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ne=["tabla"];function we(i,r){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ie(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function Fe(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,Ie,2,1,"mat-error",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.preventiveControl.errors&&t.preventiveControl.errors.required)}}function Se(i,r){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ke(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function Je(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,ke,2,1,"mat-error",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.correctiveControl.errors&&t.correctiveControl.errors.required)}}function Me(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",44),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function Ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",45,46),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function Oe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"textarea",47),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.model=n}),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function Qe(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.requiredField)}}function Pe(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.notNumberField)}}function Le(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function Ye(i,r){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,Qe,2,1,"mat-error",18),e.YNc(2,Pe,2,1,"mat-error",18),e.YNc(3,Le,2,0,"mat-error",18),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.required),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name).errors&&o.mainForm.get(t.name).errors.notNumber),e.xp6(1),e.Q6J("ngIf",o.mainForm.controls[t.name].hasError("maxLength"))}}function De(i,r){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"mat-form-field",8),e.TgZ(2,"mat-label",15),e._uU(3),e.qZA(),e.YNc(4,Me,1,2,"input",41),e.YNc(5,Ue,2,2,"input",42),e.YNc(6,Oe,1,2,"textarea",43),e.YNc(7,Ye,4,3,"mat-error",18),e.qZA(),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Tol(t.class),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf","input"==t.type),e.xp6(1),e.Q6J("ngIf","number"==t.type),e.xp6(1),e.Q6J("ngIf","text"==t.type),e.xp6(1),e.Q6J("ngIf",o.mainForm.get(t.name)&&o.mainForm.get(t.name).invalid)}}function He(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.date," ")}}function Ee(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.initial_time," ")}}function $e(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.shift," ")}}function Be(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.visualizar_name," ")}}function ze(i,r){if(1&i&&(e.TgZ(0,"td",49),e._UZ(1,"img",50),e._uU(2),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.s9C("src",o.fotoT[t.id],e.LSH),e.xp6(1),e.hij(" ",t.users.name," ")}}const Ge=function(){return[5,10,25,100]};let je=(()=>{class i{constructor(t,o,n,l,c,s){this.service=t,this.snakBarService=o,this.servicioAction=n,this.servicioPreventive=l,this.router=c,this.dataGridService=s,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.notNumberField="Only allowed numbers.",this.period="",this.fotoT=[],this.mainForm=new a.cw({time:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),date:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),preventive_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"}),corrective_action:new a.NI(null,{validators:[a.kI.required],updateOn:"change"})})}ngOnInit(){this.nameQA=JSON.parse(sessionStorage.getItem("currentUser")).name,this.foto=JSON.parse(sessionStorage.getItem("currentUser")).foto,this.dataGridService.dataGrid.subscribe(t=>{t instanceof Array&&t.forEach((o,n)=>{this.fotoT[o.id]=o.users&&o.users.foto?o.users.foto:"assets/img/user.png"})}),this.getAllAction(),this.getAllPreventive(),this.addInputControl()}get timeControl(){return this.mainForm.get("time")}get dateControl(){return this.mainForm.get("date")}get correctiveControl(){return this.mainForm.get("corrective_action")}get preventiveControl(){return this.mainForm.get("preventive_action")}getAllAction(){this.servicioAction.getAll("relapse_action").subscribe({next:t=>{this.dataAction=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}getAllPreventive(){this.servicioPreventive.getAll("preventive_action").subscribe({next:t=>{this.dataPreventive=t.data},error:t=>{this.snakBarService.openSnackBar("Error getting data.","Close",{},"error")},complete:()=>{}})}submitForm(){this.mainForm.valid&&(this.fillData(),this.service.create(this.dataSend,"ccp-s1haccp").subscribe({next:t=>{this.snakBarService.openSnackBar("Successfully created","Close"),this.tabla.reloadData()},error:t=>{this.snakBarService.openSnackBar("Error creating data.","Close",{},"error")},complete:()=>{}}))}clearForm(){this.mainForm.reset()}addInputControl(){let t=new a.NI(null,{validators:[a.kI.required,a.kI.maxLength(10)],updateOn:"change"}),o=new a.NI(null,{validators:[a.kI.required,this.isNumberValidation()],updateOn:"change"});this.fields.forEach((n,l)=>{this.mainForm.addControl(n.name,"number"==n.type?o:t),this.dataSend={[n.name]:null}})}fillData(){var t,o,n,l;this.fields.forEach((c,s)=>{this.dataSend[c.name]=c.model}),this.dataSend.monitor_name=JSON.parse(sessionStorage.getItem("currentUser")).username,this.dataSend.date=null===(t=this.dateControl)||void 0===t?void 0:t.value,this.dataSend.initial_time=null===(o=this.timeControl)||void 0===o?void 0:o.value,this.dataSend.correctuve_action_id=null===(n=this.correctiveControl)||void 0===n?void 0:n.value,this.dataSend.preventive_action_id=null===(l=this.preventiveControl)||void 0===l?void 0:l.value}goTo(t){this.router.navigate(["pages/nomenclators/"+t+"/create"])}isNumberValidation(){return function(t){return null!==t.value&&isNaN(+t.value)?{notNumber:!0}:null}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ye),e.Y36(C.A),e.Y36(T.b),e.Y36(b.v),e.Y36(Z.F0),e.Y36(q.A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-haccp-acid"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ne,5),2&t){let n;e.iGM(n=e.CRH())&&(o.tabla=n.first)}},inputs:{period:"period",fields:"fields"},decls:72,vars:21,consts:[[1,"card-title","d-flex","align-items-center"],[1,"customers-list-item","d-flex","align-items-center","p-2","cursor-pointer"],["width","80","height","80","alt","user avatar",1,"rounded-circle",3,"src"],[1,"ms-2"],[1,"mb-1","font-14","text-white"],[1,"font-size-sm"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],["matInput","","formControlName","date","placeholder","Select date....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","time","placeholder","Select time....",3,"ngxTimepicker"],["timepicker",""],[1,"col-10","containerBtn"],[1,"form-label"],["formControlName","preventive_action","requeried",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-2","padding-btn",2,"display","inline-block"],["type","button",1,"btn","btn-light",3,"click"],[1,"fadeIn","animated","bx","bx-plus"],["formControlName","corrective_action","requeried",""],[3,"class",4,"ngFor","ngForOf"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"selectAvailable","serviceData","verticalLine"],["tabla",""],["title","Date","matColumnDef","date","type","string",3,"sort"],["mat-cell","","style","text-align: right",4,"matCellDef"],["title","Initial time","matColumnDef","initial_time","type","string",3,"sort"],["title","Shift","matColumnDef","shift","type","string",3,"sort"],["title","Visualizar name","matColumnDef","visualizar_name","type","string",3,"sort"],["title","QA last reviewer","matColumnDef","users","type","string",3,"sort"],["mat-cell","","style","text-align: left",4,"matCellDef"],[2,"display","none"],[3,"pageSizeOptions"],["mat-raised-button","","color","warn",3,"click"],[3,"value"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","requeried","","required","","maxlength","10",3,"formControlName","ngModel","ngModelChange"],["matInput","","required","","maxlength","5",3,"formControlName","ngModel","ngModelChange"],["numberItem",""],["matInput","","required","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange"],["mat-cell","",2,"text-align","right"],["mat-cell","",2,"text-align","left"],["width","40","height","40","alt","user avatar",1,"rounded-circle","mySpacer",3,"src"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"h5",4),e._uU(6,"Audited by:"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(11,"div",7),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e._UZ(14,"mat-datepicker-toggle",10),e._UZ(15,"mat-datepicker",null,11),e.qZA(),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",12),e._UZ(20,"ngx-material-timepicker",null,13),e.qZA(),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"div",14),e.TgZ(24,"mat-form-field",8),e.TgZ(25,"mat-label",15),e._uU(26,"Preventive actions:"),e.qZA(),e.TgZ(27,"mat-select",16),e.YNc(28,we,2,2,"mat-option",17),e.qZA(),e.YNc(29,Fe,2,1,"mat-error",18),e.qZA(),e.qZA(),e.TgZ(30,"div",19),e.TgZ(31,"button",20),e.NdJ("click",function(c){return c.stopPropagation(),o.goTo("preventive-actions")}),e._UZ(32,"i",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",7),e.TgZ(34,"div",14),e.TgZ(35,"mat-form-field",8),e.TgZ(36,"mat-label",15),e._uU(37,"Corrective actions:"),e.qZA(),e.TgZ(38,"mat-select",22),e.YNc(39,Se,2,2,"mat-option",17),e.qZA(),e.YNc(40,Je,2,1,"mat-error",18),e.qZA(),e.qZA(),e.TgZ(41,"div",19),e.TgZ(42,"button",20),e.NdJ("click",function(c){return c.stopPropagation(),o.goTo("actions")}),e._UZ(43,"i",21),e.qZA(),e.qZA(),e.qZA(),e.YNc(44,De,8,8,"div",23),e.TgZ(45,"div",24),e.TgZ(46,"div",25),e.TgZ(47,"button",26),e.NdJ("click",function(c){return c.stopPropagation(),o.clearForm()}),e._uU(48," Cancel "),e.qZA(),e.qZA(),e.TgZ(49,"div",25),e.TgZ(50,"button",27),e._uU(51," Add "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(52,"hr"),e.TgZ(53,"app-mat-data-table",28,29),e.TgZ(55,"app-mat-column-table",30),e.YNc(56,He,2,1,"td",31),e.qZA(),e.TgZ(57,"app-mat-column-table",32),e.YNc(58,Ee,2,1,"td",31),e.qZA(),e.TgZ(59,"app-mat-column-table",33),e.YNc(60,$e,2,1,"td",31),e.qZA(),e.TgZ(61,"app-mat-column-table",34),e.YNc(62,Be,2,1,"td",31),e.qZA(),e.TgZ(63,"app-mat-column-table",35),e.YNc(64,ze,3,2,"td",36),e.qZA(),e._UZ(65,"div",37),e._UZ(66,"app-mat-paginator-data-table",38),e.TgZ(67,"app-mat-error-data-table"),e._uU(68," There are problems to load data. "),e._UZ(69,"br"),e.TgZ(70,"button",39),e.NdJ("click",function(){return e.CHM(n),e.MAs(54).reloadData()}),e._uU(71," Reload "),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.MAs(16),l=e.MAs(21);e.xp6(3),e.s9C("src",o.foto,e.LSH),e.xp6(5),e.Oqu(o.nameQA),e.xp6(2),e.Q6J("formGroup",o.mainForm),e.xp6(3),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(5),e.Q6J("ngxTimepicker",l),e.xp6(9),e.Q6J("ngForOf",o.dataPreventive),e.xp6(1),e.Q6J("ngIf",o.preventiveControl&&o.preventiveControl.invalid),e.xp6(10),e.Q6J("ngForOf",o.dataAction),e.xp6(1),e.Q6J("ngIf",o.correctiveControl&&o.correctiveControl.invalid),e.xp6(4),e.Q6J("ngForOf",o.fields),e.xp6(9),e.Q6J("selectAvailable",!1)("serviceData",o.service)("verticalLine",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(2),e.Q6J("sort",!0),e.xp6(3),e.Q6J("pageSizeOptions",e.DdM(20,Ge))}},directives:[a._Y,a.JL,a.sg,d.KE,y.Nt,a.Fj,u.hl,a.JJ,a.u,u.nW,d.R9,u.Mq,h.I2,h.ro,d.hX,N.gD,_.sg,_.O5,w.lW,p.Zc,p.PT,g.w1,g.Dz,p.y0,p.DV,I.ey,d.TO,a.Q7,a.nD,g.ev],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.margin-toogle[_ngcontent-%COMP%]{margin-left:2.5px;margin-right:5px}.label-toogle[_ngcontent-%COMP%]{vertical-align:top}.containerBtn[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.padding-btn[_ngcontent-%COMP%]{padding:15px}.containerToggle[_ngcontent-%COMP%]{display:inline-block;width:130px;vertical-align:top}  th.mat-header-cell{color:#1a73e861!important}  .mat-checkbox .mat-checkbox-ripple .mat-ripple-element{background-color:#1a73e861!important}  .mat-checkbox .mat-checkbox-frame{border-color:#1a73e861!important}  .mat-tooltip-trigger .mat-button-wrapper{color:#1a73e861!important}  .mat-paginator-range-actions .mat-paginator-range-label{color:#1a73e861!important}  th.mat-header-cell{z-index:10!important}  mat-dialog-container{background:#222b45!important}  mat-dialog-container i{color:#fff!important}"]}),i})();const Re=[{path:"",component:(()=>{class i{constructor(){this.requiredField="Campo requerido",this.period1="period1",this.period2="period2",this.period3="period3",this.period4="period4",this.period5="period5",this.fields1=[{name:"shift",class:"col-6",type:"input",model:"",label:"Shift:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"First carcase id number"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Carcase ID number or Lot:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Defect descriptions:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Records review found acceptable:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Pre shipment review:"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Monitor name & Initials:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limit"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Verifier name & Initials:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Direct name:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Direct evaluation:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Direct approval time :"}],this.fields2=[{name:"shift",class:"col-6",type:"input",model:"",label:"Shift:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"First carcase id number"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Carcase ID number or Lot:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Defect descriptions:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Records review found acceptable:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Pre shipment review:"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Monitor name & Initials:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limit"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Verifier name & Initials:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Direct name:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Direct evaluation:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Direct approval time :"}],this.fields3=[{name:"shift",class:"col-6",type:"input",model:"",label:"Shift:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"First carcase id number"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Carcase ID number or Lot:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Defect descriptions:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Records review found acceptable:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Pre shipment review:"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Monitor name & Initials:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limit"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Verifier name & Initials:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Direct name:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Direct evaluation:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Direct approval time :"},{name:"limit_low",class:"col-4",type:"input",label:"Limit low",model:""},{name:"limit_mix",class:"col-4",type:"input",label:"Limit mix",model:""},{name:"limit_max",class:"col-4",type:"input",label:"Limit max",model:""}]}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-equipment"]],decls:37,vars:3,consts:[[1,"row"],["ccp",""],[1,"col-12","mx-auto"],[1,"mb-0","text-uppercase"],[1,"card"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs","nav-fill"],["role","presentation",1,"nav-item"],["data-bs-toggle","tab","href","#ccp-log-1","role","tab","aria-selected","true",1,"nav-link","active"],[1,"d-flex","align-items-center"],[1,"tab-icon"],[1,"bx","bx-home","font-18","me-1"],[1,"tab-title","text-uppercase"],["data-bs-toggle","tab","role","tab","href","#ccp-log-2","role","tab","aria-selected","false",1,"nav-link"],[1,"bx","bx-user-pin","font-18","me-1"],["data-bs-toggle","tab","href","#ccp-log-3","role","tab","aria-selected","false",1,"nav-link"],[1,"bx","bx-microphone","font-18","me-1"],[1,"tab-content","py-3"],["id","ccp-log-1","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"fields"],["id","ccp-log-2","role","tabpanel",1,"tab-pane","fade"],["id","ccp-log-3","role","tabpanel",1,"tab-pane","fade"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e.TgZ(2,"div",2),e.TgZ(3,"h6",3),e._uU(4,"ccp logs"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"ul",6),e.TgZ(9,"li",7),e.TgZ(10,"a",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e._UZ(13,"i",11),e.qZA(),e.TgZ(14,"div",12),e._uU(15," ccp S3 Lactic Acid "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"li",7),e.TgZ(17,"a",13),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e._UZ(20,"i",14),e.qZA(),e.TgZ(21,"div",12),e._uU(22," ccp Peroxyacetic acid "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"li",7),e.TgZ(24,"a",15),e.TgZ(25,"div",9),e.TgZ(26,"div",10),e._UZ(27,"i",16),e.qZA(),e.TgZ(28,"div",12),e._uU(29," ccp s1 haccp "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",17),e.TgZ(31,"div",18),e._UZ(32,"app-lactic-acid",19),e.qZA(),e.TgZ(33,"div",20),e._UZ(34,"app-peroxy-acid",19),e.qZA(),e.TgZ(35,"div",21),e._UZ(36,"app-haccp-acid",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(32),e.Q6J("fields",o.fields1),e.xp6(2),e.Q6J("fields",o.fields2),e.xp6(2),e.Q6J("fields",o.fields3))},directives:[ee,be,je],styles:[".mySpacer[_ngcontent-%COMP%]{margin:.5rem!important}.left-space[_ngcontent-%COMP%]{margin-left:10px}  mat-dialog-container{background:#222b45!important}"]}),i})()},{path:"**",redirectTo:"auth"}];let Ve=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(Re)],Z.Bz]}),i})();var Xe=m(9151),We=m(6596);let Ke=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[_.ez,Ve,Xe.q,We.V]]}),i})()}}]);