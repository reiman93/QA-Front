"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[9421],{9421:(E,p,l)=>{l.r(p),l.d(p,{ListModule:()=>D});var s=l(9808),g=l(1083),e=l(5e3),f=l(3424),u=l(4673),i=l(3075),b=l(4077),Z=l(5801),h=l(497),m=l(7322),C=l(7531),d=l(6856),v=l(3271),x=l(4107),A=l(7423),T=l(508);function y(o,r){if(1&o&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function q(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function N(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,q,2,1,"mat-error",17),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.preventiveControl.errors&&t.preventiveControl.errors.required)}}function M(o,r){if(1&o&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function L(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.requiredField)}}function F(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,L,2,1,"mat-error",17),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.correctiveControl.errors&&t.correctiveControl.errors.required)}}function w(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().$implicit.model=a}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function I(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"input",29),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().$implicit.model=a}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function O(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"textarea",30),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().$implicit.model=a}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.s9C("formControlName",t.name),e.Q6J("ngModel",t.model)}}function J(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Oqu(t.requiredField)}}function S(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Oqu(t.notNumberField)}}function U(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),e.qZA())}function k(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,J,2,1,"mat-error",17),e.YNc(2,S,2,1,"mat-error",17),e.YNc(3,U,2,0,"mat-error",17),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.mainForm.get(t.name).errors&&n.mainForm.get(t.name).errors.required),e.xp6(1),e.Q6J("ngIf",n.mainForm.get(t.name).errors&&n.mainForm.get(t.name).errors.notNumber),e.xp6(1),e.Q6J("ngIf",n.mainForm.controls[t.name].hasError("maxLength"))}}function Q(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"mat-form-field",8),e.TgZ(2,"mat-label",14),e._uU(3),e.qZA(),e.YNc(4,w,1,2,"input",25),e.YNc(5,I,1,2,"input",26),e.YNc(6,O,1,2,"textarea",27),e.YNc(7,k,4,3,"mat-error",17),e.qZA(),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.Tol(t.class),e.xp6(3),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf","input"==t.type),e.xp6(1),e.Q6J("ngIf","number"==t.type),e.xp6(1),e.Q6J("ngIf","text"==t.type),e.xp6(1),e.Q6J("ngIf",n.mainForm.get(t.name)&&n.mainForm.get(t.name).invalid)}}let P=(()=>{class o{constructor(t,n,a,c){this.servicio=t,this.snakBarService=n,this.servicioAction=a,this.servicioPreventive=c,this.requiredField="Campo requerido",this.notNumberField="Solo se admiten numeros",this.period="",this.mainForm=new i.cw({time:new i.NI(null,{validators:[i.kI.required],updateOn:"change"}),date:new i.NI(null,{validators:[i.kI.required],updateOn:"change"}),preventive_action:new i.NI(null,{validators:[i.kI.required],updateOn:"change"}),corrective_action:new i.NI(null,{validators:[i.kI.required],updateOn:"change"})})}ngOnInit(){this.nameQA=JSON.parse(sessionStorage.getItem("currentUser")).name,this.foto=JSON.parse(sessionStorage.getItem("currentUser")).foto,this.getAllAction(),this.getAllPreventive(),this.addInputControl()}get timeControl(){return this.mainForm.get("time")}get dateControl(){return this.mainForm.get("date")}get correctiveControl(){return this.mainForm.get("corrective_action")}get preventiveControl(){return this.mainForm.get("preventive_action")}getAllAction(){this.servicioAction.getAll("relapse_action").subscribe({next:t=>{console.warn("fields sactions",t),this.dataAction=t.data,console.warn("this.dataAction",this.dataAction)},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllPreventive(){this.servicioPreventive.getAll("preventive_action").subscribe({next:t=>{console.warn("fields sactions",t),this.dataPreventive=t.data,console.warn("this.dataAction",this.dataAction)},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de las acciones.","cerrar",{},"error")},complete:()=>console.info("complete")})}submitForm(){this.mainForm.valid&&(this.fillData(),this.servicio.create(this.dataSend,this.service).subscribe({next:t=>{this.snakBarService.openSnackBar("Creado correctamente","Cerrar")},error:t=>{this.snakBarService.openSnackBar("Error al crear los datos.","cerrar",{},"error")},complete:()=>console.info("complete")}))}clearForm(){this.mainForm.reset()}addInputControl(){let t=new i.NI(null,{validators:[i.kI.required,i.kI.maxLength(10)],updateOn:"change"}),n=new i.NI(null,{validators:[i.kI.required,this.isNumberValidation()],updateOn:"change"});this.fields.forEach((a,c)=>{this.mainForm.addControl(a.name,"number"==a.type?n:t),this.dataSend={[a.name]:null}})}fillData(){var t,n,a,c;console.warn("estos son los campos con el model??",this.fields),this.fields.forEach((_,$)=>{this.dataSend[_.name]=_.model}),this.dataSend.monitor_name=JSON.parse(sessionStorage.getItem("currentUser")).username,this.dataSend.date=null===(t=this.dateControl)||void 0===t?void 0:t.value,this.dataSend.initial_time=null===(n=this.timeControl)||void 0===n?void 0:n.value,this.dataSend.correctuve_action_id=null===(a=this.correctiveControl)||void 0===a?void 0:a.value,this.dataSend.preventive_action_id=null===(c=this.preventiveControl)||void 0===c?void 0:c.value}isNumberValidation(){return function(t){return null!==t.value&&isNaN(+t.value)?{notNumber:!0}:null}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.D),e.Y36(u.A),e.Y36(Z.b),e.Y36(h.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ccp-generic-logs"]],inputs:{period:"period",fields:"fields",service:"service"},decls:44,vars:11,consts:[[1,"card-title","d-flex","align-items-center"],[1,"customers-list-item","d-flex","align-items-center","p-2","cursor-pointer"],["width","80","height","80","alt","user avatar",1,"rounded-circle",3,"src"],[1,"ms-2"],[1,"mb-1","font-14","text-white"],[1,"font-size-sm"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],["matInput","","formControlName","date","placeholder","Seleccione la fecha....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","time","placeholder","Seleccione la hora....",3,"ngxTimepicker"],["timepicker",""],[1,"requeried","form-label"],["formControlName","preventive_action"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","corrective_action"],[3,"class",4,"ngFor","ngForOf"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"],["matInput","","maxlength","10",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","type","number","maxlength","10",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["matInput","","maxlength","10",3,"formControlName","ngModel","ngModelChange"],["matInput","","type","number","maxlength","10",3,"formControlName","ngModel","ngModelChange"],["matInput","","maxlength","10","rows","3",3,"formControlName","ngModel","ngModelChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"h5",4),e._uU(6,"Audited by:"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"form",6),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(11,"div",7),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e._UZ(14,"mat-datepicker-toggle",10),e._UZ(15,"mat-datepicker",null,11),e.qZA(),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",12),e._UZ(20,"ngx-material-timepicker",null,13),e.qZA(),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"mat-form-field",8),e.TgZ(24,"mat-label",14),e._uU(25,"Preventive actions:"),e.qZA(),e.TgZ(26,"mat-select",15),e.YNc(27,y,2,2,"mat-option",16),e.qZA(),e.YNc(28,N,2,1,"mat-error",17),e.qZA(),e.qZA(),e.TgZ(29,"div",7),e.TgZ(30,"mat-form-field",8),e.TgZ(31,"mat-label",14),e._uU(32,"Corrective actions:"),e.qZA(),e.TgZ(33,"mat-select",18),e.YNc(34,M,2,2,"mat-option",16),e.qZA(),e.YNc(35,F,2,1,"mat-error",17),e.qZA(),e.qZA(),e.YNc(36,Q,8,8,"div",19),e.TgZ(37,"div",20),e.TgZ(38,"div",21),e.TgZ(39,"button",22),e.NdJ("click",function(c){return c.stopPropagation(),n.clearForm()}),e._uU(40," Cancel "),e.qZA(),e.qZA(),e.TgZ(41,"div",21),e.TgZ(42,"button",23),e._uU(43," Accept "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(16),c=e.MAs(21);e.xp6(3),e.s9C("src",n.foto,e.LSH),e.xp6(5),e.Oqu(n.nameQA),e.xp6(2),e.Q6J("formGroup",n.mainForm),e.xp6(3),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(5),e.Q6J("ngxTimepicker",c),e.xp6(8),e.Q6J("ngForOf",n.dataPreventive),e.xp6(1),e.Q6J("ngIf",n.preventiveControl&&n.preventiveControl.invalid),e.xp6(6),e.Q6J("ngForOf",n.dataAction),e.xp6(1),e.Q6J("ngIf",n.correctiveControl&&n.correctiveControl.invalid),e.xp6(1),e.Q6J("ngForOf",n.fields)}},directives:[i._Y,i.JL,i.sg,m.KE,C.Nt,i.Fj,d.hl,i.JJ,i.u,d.nW,m.R9,d.Mq,v.I2,v.ro,m.hX,x.gD,s.sg,s.O5,A.lW,T.ey,m.TO,i.nD,i.wV],styles:[".margin-toogle[_ngcontent-%COMP%]{margin-left:2.5px;margin-right:5px}.label-toogle[_ngcontent-%COMP%]{vertical-align:top}.containerToggle[_ngcontent-%COMP%]{display:inline-block;width:130px;vertical-align:top}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}"]}),o})();const G=[{path:"",component:(()=>{class o{constructor(t,n){this.servicio=t,this.snakBarService=n,this.requiredField="Campo requerido",this.period1="period1",this.period2="period2",this.period3="period3",this.period4="period4",this.period5="period5",this.fields1=[{name:"shift",class:"col-6",type:"input",model:"",label:"Cambio:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"Primer Numero de Carcasa:"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Numero de Carcasa Actual:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Descripcion defectos:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Datos revisados:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Revision pre-envio :"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Nombre monitor:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limite"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Nombre vizual:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Nombre director:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Evaluacion del director:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Tiempo de aprobacion del director:"}],this.fields2=[{name:"shift",class:"col-6",type:"input",model:"",label:"Cambio:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"Primer Numero de Carcasa:"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Numero de Carcasa Actual:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Descripcion defectos:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Datos revisados:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Revision pre-envio :"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Nombre monitor:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limite"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Nombre vizual:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Nombre director:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Evaluacion del director:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Tiempo de aprobacion del director:"}],this.fields3=[{name:"shift",class:"col-6",type:"input",model:"",label:"Cambio:"},{name:"first_carcase_id_number",class:"col-6",type:"number",model:"",label:"Primer Numero de Carcasa:"},{name:"carcase_id",class:"col-6",type:"number",model:"",label:"Numero de Carcasa Actual:"},{name:"defect_description",class:"col-6",type:"text",model:"",label:"Descripcion defectos:"},{name:"records_review_found_aceptabol",class:"col-6",type:"text",model:"",label:"Datos revisados:"},{name:"pre_shipment_review",class:"col-6",type:"text",model:"",label:"Revision pre-envio :"},{name:"monitor_name",class:"col-6",type:"input",model:"",label:"Nombre monitor:"},{name:"limit",class:"col-6",type:"input",model:"",label:"Limite"},{name:"visualizar_name",class:"col-6",type:"input",model:"",label:"Nombre vizual:"},{name:"name_director",class:"col-6",type:"input",model:"",label:"Nombre director:"},{name:"director_general_evaluation",class:"col-6",type:"text",model:"",label:"Evaluacion del director:"},{name:"time_director_aprobation",class:"col-6",type:"input",model:"",label:"Tiempo de aprobacion del director:"},{name:"limit_low",class:"col-4",type:"input",label:"Limite minimo",model:""},{name:"limit_mix",class:"col-4",type:"input",label:"Limite mixto",model:""},{name:"limit_max",class:"col-4",type:"input",label:"Limite maximo",model:""}]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.T),e.Y36(u.A))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-equipment"]],decls:36,vars:3,consts:[[1,"row"],[1,"col-xl-10","mx-auto"],[1,"mb-0","text-uppercase"],[1,"card"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["data-bs-toggle","tab","href","#ccp-log-1","role","tab","aria-selected","true",1,"nav-link","active"],[1,"d-flex","align-items-center"],[1,"tab-icon"],[1,"bx","bx-home","font-18","me-1"],[1,"tab-title","text-uppercase"],["data-bs-toggle","tab","role","tab","href","#ccp-log-2","role","tab","aria-selected","false",1,"nav-link"],[1,"bx","bx-user-pin","font-18","me-1"],["data-bs-toggle","tab","href","#ccp-log-3","role","tab","aria-selected","false",1,"nav-link"],[1,"bx","bx-microphone","font-18","me-1"],[1,"tab-content","py-3"],["id","ccp-log-1","role","tabpanel",1,"tab-pane","fade","show","active"],["period","1","service","ccp-lactic",3,"fields"],["id","ccp-log-2","role","tabpanel",1,"tab-pane","fade"],["period","2","service","ccp-peroaxycetic",3,"fields"],["id","ccp-log-3","role","tabpanel",1,"tab-pane","fade"],["period","3","service","ccp-s1haccp",3,"fields"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h6",2),e._uU(3,"ccp logs"),e.qZA(),e._UZ(4,"hr"),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"ul",5),e.TgZ(8,"li",6),e.TgZ(9,"a",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e._UZ(12,"i",10),e.qZA(),e.TgZ(13,"div",11),e._uU(14,"ccp S3 Lactic Acid"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"li",6),e.TgZ(16,"a",12),e.TgZ(17,"div",8),e.TgZ(18,"div",9),e._UZ(19,"i",13),e.qZA(),e.TgZ(20,"div",11),e._uU(21,"ccp Peroxyacetic acid"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"li",6),e.TgZ(23,"a",14),e.TgZ(24,"div",8),e.TgZ(25,"div",9),e._UZ(26,"i",15),e.qZA(),e.TgZ(27,"div",11),e._uU(28,"ccp s1 haccp"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",16),e.TgZ(30,"div",17),e._UZ(31,"app-ccp-generic-logs",18),e.qZA(),e.TgZ(32,"div",19),e._UZ(33,"app-ccp-generic-logs",20),e.qZA(),e.TgZ(34,"div",21),e._UZ(35,"app-ccp-generic-logs",22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(31),e.Q6J("fields",n.fields1),e.xp6(2),e.Q6J("fields",n.fields2),e.xp6(2),e.Q6J("fields",n.fields3))},directives:[P],styles:["table[_ngcontent-%COMP%]{margin:1rem auto;width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px;box-shadow:-1px 3px 66px #000000bf}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;margin:1rem auto;max-width:100%;padding:1rem}.header-text[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#000000de;font-family:Roboto,Helvetica Neue,sans-serif}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]{text-align:center;max-width:300px}.mySpacer[_ngcontent-%COMP%]{margin:.5rem!important}.left-space[_ngcontent-%COMP%]{margin-left:10px}mat-card-title[_ngcontent-%COMP%]{border-bottom:1px solid black;line-height:36px}app-mat-data-table[_ngcontent-%COMP%]{margin-top:10px}  mat-dialog-container{background:#222b45!important}.Pendiente[_ngcontent-%COMP%]{background:rgba(226,223,29,.788)}.success[_ngcontent-%COMP%]{background:rgba(73,151,9,.788)}.error[_ngcontent-%COMP%]{background:rgba(109,18,6,.788)}  .mat-row.row-selected{background:rgba(73,151,9,.788)!important}"]}),o})()}];let Y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.Bz.forChild(G)],g.Bz]}),o})();var B=l(9151);let D=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[s.ez,Y,B.q]]}),o})()}}]);