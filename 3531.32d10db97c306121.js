"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[3531],{3531:(et,T,i)=>{i.r(T),i.d(T,{ListModule:()=>K});var g=i(9808),h=i(1083),t=i(5e3),n=i(3075),_=i(520),v=i(4004),C=i(9183),x=i(7429);const A={headers:new _.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Headers":"Authorization, X-API-KEY, Origin, X-Requested-With, Content-Type, Accept, Access-Control-Allow-Request-Method","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, DELETE"})};let q=(()=>{class e{constructor(r,o){this.httpClient=r,this.enviroment=o,this.url=C.H}findAllPagination(r,o,l,s){return this.httpClient.post(this.enviroment.config.url+"storeHoldTag",{skip:r,take:o,sortField:l,orSearchFields:s,select:[]}).pipe((0,v.U)(c=>c.data.hold_tag))}create(r,o){return this.httpClient.post(this.enviroment.config.url+o,r,A).pipe((0,v.U)(l=>l))}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(_.eN),t.LFG(x.y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=i(4673),U=i(651),d=i(7322),N=i(7531),p=i(6856),I=i(7423),u=i(9386),f=i(4999);const y=["tabla"];function w(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.requiredField)}}function O(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,w,2,1,"mat-error",14),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.shiftControl.errors&&r.shiftControl.errors.required)}}function F(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.requiredField)}}function S(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,F,2,1,"mat-error",14),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.initialsControl.errors&&r.initialsControl.errors.required)}}function H(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.requiredField)}}function J(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.notNumber)}}function Q(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,H,2,1,"mat-error",14),t.YNc(2,J,2,1,"mat-error",14),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.tagControl.errors&&r.tagControl.errors.required),t.xp6(1),t.Q6J("ngIf",r.tagControl.errors&&r.tagControl.errors.notNumber)}}function M(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.requiredField)}}function L(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,M,2,1,"mat-error",14),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.productControl.errors&&r.productControl.errors.required)}}function k(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.requiredField)}}function Y(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,k,2,1,"mat-error",14),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.tagPulledControl.errors&&r.tagPulledControl.errors.required)}}function P(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.requiredField)}}function D(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw(2);t.xp6(1),t.Oqu(r.maxField)}}function z(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,P,2,1,"mat-error",14),t.YNc(2,D,2,1,"mat-error",14),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.reasonControl.errors&&r.reasonControl.errors.required),t.xp6(1),t.Q6J("ngIf",r.mainForm.controls.reason.hasError("maxLength"))}}function B(e,a){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,r.date,"yyyy-MM-dd")," ")}}function E(e,a){if(1&e&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.hij(" ",r.shift," ")}}function G(e,a){if(1&e&&(t.TgZ(0,"td",39),t._UZ(1,"img",40),t._uU(2),t.qZA()),2&e){const r=a.$implicit,o=t.oxw();t.xp6(1),t.s9C("src",o.fotoT[r.id],t.LSH),t.xp6(1),t.hij(" ",r.users.name," ")}}const R=function(){return[5,10,25,100]};let j=(()=>{class e{constructor(r,o,l){this.service=r,this.snakBarService=o,this.dataGridService=l,this.requiredField="Required field.",this.maxField="Max characters allowed.",this.notNumber="Only allowed numbers.",this.fotoT=[],this.mainForm=new n.cw({date:new n.NI(null,{validators:[n.kI.required],updateOn:"change"}),shift:new n.NI(null,{validators:[n.kI.required],updateOn:"change"}),initials:new n.NI(null,{validators:[n.kI.required],updateOn:"change"}),reason:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(150)],updateOn:"change"}),tag:new n.NI(null,{validators:[this.isNumberValidation(),n.kI.required,n.kI.maxLength(5)],updateOn:"change"}),product:new n.NI(null,{validators:[n.kI.required],updateOn:"change"}),tag_pulled:new n.NI(null,{validators:[n.kI.required],updateOn:"change"})})}ngOnInit(){this.nameQA=JSON.parse(sessionStorage.getItem("currentUser")).name,this.foto=JSON.parse(sessionStorage.getItem("currentUser")).foto,this.dataGridService.dataGrid.subscribe(r=>{r instanceof Array&&r.forEach((o,l)=>{this.fotoT[o.id]=o.users&&o.users.foto?o.users.foto:"assets/img/user.png"})})}get dateControl(){return this.mainForm.get("date")}get shiftControl(){return this.mainForm.get("shift")}get initialsControl(){return this.mainForm.get("initials")}get reasonControl(){return this.mainForm.get("reason")}get tagControl(){return this.mainForm.get("tag")}get productControl(){return this.mainForm.get("product")}get tagPulledControl(){return this.mainForm.get("tag_pulled")}submitForm(){var r,o,l,s,m,c,Z;this.mainForm.valid&&this.service.create({verifyed_by:JSON.parse(sessionStorage.getItem("currentUser")).username,date:null===(r=this.dateControl)||void 0===r?void 0:r.value,shift:null===(o=this.shiftControl)||void 0===o?void 0:o.value,initials:null===(l=this.initialsControl)||void 0===l?void 0:l.value,tag:null===(s=this.tagControl)||void 0===s?void 0:s.value,reason_tag_was_written:null===(m=this.reasonControl)||void 0===m?void 0:m.value,product_disposition:null===(c=this.productControl)||void 0===c?void 0:c.value,tag_pulled:null===(Z=this.tagPulledControl)||void 0===Z?void 0:Z.value},"hold-tag").subscribe({next:tt=>{this.snakBarService.openSnackBar("Successfully created","Close"),this.clearForm(),this.tabla.reloadData()},error:tt=>{this.snakBarService.openSnackBar("Error creating data.","Close",{},"error")},complete:()=>{}})}clearForm(){this.mainForm.reset()}isNumberValidation(){return function(r){return null!==r.value&&isNaN(+r.value)?{notNumber:!0}:null}}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(q),t.Y36(b.A),t.Y36(U.A))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-hold-tag"]],viewQuery:function(r,o){if(1&r&&t.Gf(y,5),2&r){let l;t.iGM(l=t.CRH())&&(o.tabla=l.first)}},decls:79,vars:20,consts:[[1,"card-title","d-flex","align-items-center"],[1,"customers-list-item","d-flex","align-items-center","p-2","cursor-pointer"],["width","80","height","80","alt","user avatar",1,"rounded-circle",3,"src"],[1,"ms-2"],[1,"mb-1","font-14","text-white"],[1,"font-size-sm"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-6"],[1,"form-control"],["matInput","","formControlName","date","placeholder","Select date....",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"form-label"],["matInput","","requeried","","formControlName","shift","maxlength","10"],[4,"ngIf"],["matInput","","requeried","","formControlName","initials","maxlength","10"],["matInput","","requeried","","formControlName","tag","maxlength","5"],["tagNum",""],["align","end"],[1,"requeried","form-label"],["matInput","","requeried","","formControlName","product","maxlength","10"],["matInput","","requeried","","formControlName","tag_pulled","maxlength","10"],[1,"col-12"],["matInput","","requeried","","formControlName","reason","maxlength","150","rows","4"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"selectAvailable","serviceData","verticalLine"],["tabla",""],["title","Date","matColumnDef","date","type","string",3,"sort"],["mat-cell","","style","text-align: right",4,"matCellDef"],["title","Shift","matColumnDef","shift","type","string",3,"sort"],["title","QA last reviewer","matColumnDef","users","type","string",3,"sort"],["mat-cell","","style","text-align: left",4,"matCellDef"],[2,"display","none"],[3,"pageSizeOptions"],["mat-raised-button","","color","warn",3,"click"],["mat-cell","",2,"text-align","right"],["mat-cell","",2,"text-align","left"],["width","40","height","40","alt","user avatar",1,"rounded-circle","mySpacer",3,"src"]],template:function(r,o){if(1&r){const l=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div"),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"h5",4),t._uU(6,"Audited by:"),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"form",6),t.NdJ("ngSubmit",function(){return o.submitForm()}),t.TgZ(11,"div",7),t.TgZ(12,"mat-form-field",8),t._UZ(13,"input",9),t._UZ(14,"mat-datepicker-toggle",10),t._UZ(15,"mat-datepicker",null,11),t.qZA(),t.qZA(),t.TgZ(17,"div",7),t.TgZ(18,"mat-form-field",8),t.TgZ(19,"mat-label",12),t._uU(20,"Shift:"),t.qZA(),t._UZ(21,"input",13),t.YNc(22,O,2,1,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(23,"div",7),t.TgZ(24,"mat-form-field",8),t.TgZ(25,"mat-label",12),t._uU(26,"Initials:"),t.qZA(),t._UZ(27,"input",15),t.YNc(28,S,2,1,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(29,"div",7),t.TgZ(30,"mat-form-field",8),t.TgZ(31,"mat-label",12),t._uU(32,"Tag:"),t.qZA(),t._UZ(33,"input",16,17),t.TgZ(35,"mat-hint",18),t._uU(36),t.qZA(),t.YNc(37,Q,3,2,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(38,"div",7),t.TgZ(39,"mat-form-field",8),t.TgZ(40,"mat-label",19),t._uU(41,"Product disposition:"),t.qZA(),t._UZ(42,"input",20),t.YNc(43,L,2,1,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(44,"div",7),t.TgZ(45,"mat-form-field",8),t.TgZ(46,"mat-label",12),t._uU(47,"Tag pulled:"),t.qZA(),t._UZ(48,"input",21),t.YNc(49,Y,2,1,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(50,"div",22),t.TgZ(51,"mat-form-field",8),t.TgZ(52,"mat-label",12),t._uU(53,"Reason product:"),t.qZA(),t._UZ(54,"textarea",23),t.YNc(55,z,3,2,"mat-error",14),t.qZA(),t.qZA(),t.TgZ(56,"div",24),t.TgZ(57,"div",25),t.TgZ(58,"button",26),t.NdJ("click",function(m){return m.stopPropagation(),o.clearForm()}),t._uU(59," Cancel "),t.qZA(),t.qZA(),t.TgZ(60,"div",25),t.TgZ(61,"button",27),t._uU(62," Add "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(63,"hr"),t.TgZ(64,"app-mat-data-table",28,29),t.TgZ(66,"app-mat-column-table",30),t.YNc(67,B,3,4,"td",31),t.qZA(),t.TgZ(68,"app-mat-column-table",32),t.YNc(69,E,2,1,"td",31),t.qZA(),t.TgZ(70,"app-mat-column-table",33),t.YNc(71,G,3,2,"td",34),t.qZA(),t._UZ(72,"div",35),t._UZ(73,"app-mat-paginator-data-table",36),t.TgZ(74,"app-mat-error-data-table"),t._uU(75," There are problems to load data. "),t._UZ(76,"br"),t.TgZ(77,"button",37),t.NdJ("click",function(){return t.CHM(l),t.MAs(65).reloadData()}),t._uU(78," Reload "),t.qZA(),t.qZA(),t.qZA()}if(2&r){const l=t.MAs(16),s=t.MAs(34);t.xp6(3),t.s9C("src",o.foto,t.LSH),t.xp6(5),t.Oqu(o.nameQA),t.xp6(2),t.Q6J("formGroup",o.mainForm),t.xp6(3),t.Q6J("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(8),t.Q6J("ngIf",o.shiftControl&&o.shiftControl.invalid),t.xp6(6),t.Q6J("ngIf",o.initialsControl&&o.initialsControl.invalid),t.xp6(8),t.hij("",s.value.length," / 5"),t.xp6(1),t.Q6J("ngIf",o.tagControl&&o.tagControl.invalid),t.xp6(6),t.Q6J("ngIf",o.productControl&&o.productControl.invalid),t.xp6(6),t.Q6J("ngIf",o.tagPulledControl&&o.tagPulledControl.invalid),t.xp6(6),t.Q6J("ngIf",o.reasonControl&&o.reasonControl.invalid),t.xp6(9),t.Q6J("selectAvailable",!1)("serviceData",o.service)("verticalLine",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(19,R))}},directives:[n._Y,n.JL,n.sg,d.KE,N.Nt,n.Fj,p.hl,n.JJ,n.u,p.nW,d.R9,p.Mq,d.hX,n.nD,g.O5,d.bx,I.lW,u.Zc,u.PT,f.w1,f.Dz,u.y0,u.DV,d.TO,f.ev],pipes:[g.uU],styles:[".mat-form-field .mat-form-field-underline{position:absolute;width:0%!important;pointer-events:none;transform:scaleY(1.0001)}[_nghost-%COMP%]     .mat-select-value{color:#fff!important}.margin-toogle[_ngcontent-%COMP%]{margin-left:2.5px;margin-right:5px}.label-toogle[_ngcontent-%COMP%]{vertical-align:top}.containerToggle[_ngcontent-%COMP%]{display:inline-block;width:130px;vertical-align:top}  th.mat-header-cell{color:#1a73e861!important}  .mat-checkbox .mat-checkbox-ripple .mat-ripple-element{background-color:#1a73e861!important}  .mat-checkbox .mat-checkbox-frame{border-color:#1a73e861!important}  .mat-tooltip-trigger .mat-button-wrapper{color:#1a73e861!important}  .mat-paginator-range-actions .mat-paginator-range-label{color:#1a73e861!important}  th.mat-header-cell{z-index:10!important}  mat-dialog-container{background:#222b45!important}  mat-dialog-container i{color:#fff!important}"]}),e})();const X=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-equipment"]],decls:19,vars:0,consts:[[1,"row"],["ccp",""],[1,"col-12","mx-auto"],[1,"mb-0","text-uppercase"],[1,"card"],[1,"card-body"],["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["data-bs-toggle","tab","href","#rest","role","tab","aria-selected","true",1,"nav-link","active"],[1,"d-flex","align-items-center"],[1,"tab-icon"],[1,"bx","bx-home","font-18","me-1"],[1,"tab-title","text-uppercase"],[1,"tab-content","py-3"],["id","app-hold-tag","role","tabpanel",1,"tab-pane","fade","show","active"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0,1),t.TgZ(2,"div",2),t.TgZ(3,"h6",3),t._uU(4,"Buildings"),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"ul",6),t.TgZ(9,"li",7),t.TgZ(10,"a",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t._UZ(13,"i",11),t.qZA(),t.TgZ(14,"div",12),t._uU(15,"Hold Tag Log"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",13),t.TgZ(17,"div",14),t._UZ(18,"app-hold-tag"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},directives:[j],styles:[".mySpacer[_ngcontent-%COMP%]{margin:.5rem!important}.left-space[_ngcontent-%COMP%]{margin-left:10px}  mat-dialog-container{background:#222b45!important}"]}),e})()},{path:"**",redirectTo:"auth"}];let V=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.Bz.forChild(X)],h.Bz]}),e})();var W=i(9151),$=i(6596);let K=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,V,W.q,$.V]]}),e})()}}]);