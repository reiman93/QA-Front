"use strict";(self.webpackChunkQASystem=self.webpackChunkQASystem||[]).push([[6963],{6963:(L,g,i)=>{i.r(g),i.d(g,{EditModule:()=>B});var u=i(9808),c=i(1083),n=i(3075),r=i(5e3),f=i(3737),v=i(835),Z=i(2836),h=i(4673),d=i(7322),_=i(7531),C=i(7423);function T(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw(2);r.xp6(1),r.Oqu(t.requiredField)}}function x(o,a){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),r.qZA())}function A(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r.YNc(1,T,2,1,"mat-error",11),r.YNc(2,x,2,0,"mat-error",11),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.nameControl.errors&&t.nameControl.errors.required),r.xp6(1),r.Q6J("ngIf",t.videoForm.controls.name.hasError("maxLength"))}}function q(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw(2);r.xp6(1),r.Oqu(t.requiredField)}}function y(o,a){1&o&&(r.TgZ(0,"mat-error"),r._uU(1," S\xf3lo se admiten 10 caracteres alfan\xfamericos. "),r.qZA())}function E(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r.YNc(1,q,2,1,"mat-error",11),r.YNc(2,y,2,0,"mat-error",11),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.lastnameControl.errors&&t.lastnameControl.errors.required),r.xp6(1),r.Q6J("ngIf",t.videoForm.controls.lastname.hasError("maxLength"))}}function N(o,a){if(1&o&&(r.TgZ(0,"option",22),r._uU(1),r.qZA()),2&o){const t=a.$implicit;r.Q6J("value",t.id),r.xp6(1),r.hij(" ",t.name," ")}}function b(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw(2);r.xp6(1),r.Oqu(t.requiredField)}}function I(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r.YNc(1,b,2,1,"mat-error",11),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.turnControl.errors&&t.turnControl.errors.required)}}function F(o,a){if(1&o&&(r.TgZ(0,"option",22),r._uU(1),r.qZA()),2&o){const t=a.$implicit;r.Q6J("value",t.id),r.xp6(1),r.hij(" ",t.name," ")}}function J(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw(2);r.xp6(1),r.Oqu(t.requiredField)}}function Y(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r.YNc(1,J,2,1,"mat-error",11),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.companyControl.errors&&t.companyControl.errors.required)}}function S(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw(2);r.xp6(1),r.Oqu(t.requiredField)}}function U(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw(2);r.xp6(1),r.Oqu(t.onlyNumbres)}}function Q(o,a){if(1&o&&(r.TgZ(0,"mat-error"),r.YNc(1,S,2,1,"mat-error",11),r.YNc(2,U,2,1,"mat-error",11),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",t.phoneControl.errors&&t.phoneControl.errors.required),r.xp6(1),r.Q6J("ngIf",t.phoneControl.errors&&t.phoneControl.errors.notNumber)}}const w=[{path:"",component:(()=>{class o{constructor(t,e,m,l,s,p){this.location=t,this.servicio=e,this.turnService=m,this.caompanyService=l,this.route=s,this.snakBarService=p,this.requiredField="Campo requerido",this.onlyNumbres="Solo se permiten numeros",this.videoForm=new n.cw({name:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(50)],updateOn:"change"}),lastname:new n.NI(null,{validators:[n.kI.required],updateOn:"change"}),phone:new n.NI(null,{validators:[n.kI.required,this.isNumberValidation],updateOn:"change"}),turn:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(150)],updateOn:"change"}),company:new n.NI(null,{validators:[n.kI.required,n.kI.maxLength(150)],updateOn:"change"})})}ngOnInit(){this.findById(),this.getAllCompany(),this.getAllTurn()}getAllTurn(){this.turnService.getAll("turn_type").subscribe({next:t=>{console.warn("aaaha",t),this.turnsData=t.data},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de turno.","cerrar",{},"error")},complete:()=>console.info("complete")})}getAllCompany(){this.caompanyService.getAll("company").subscribe({next:t=>{console.warn("aaaha",t),this.companyData=t.data},error:t=>{console.log("error",t),this.snakBarService.openSnackBar("Error al obtener los datos de company.","cerrar",{},"error")},complete:()=>console.info("complete")})}findById(){this.id=this.route.snapshot.paramMap.get("id"),this.servicio.get(this.id,"janitor").subscribe(t=>{let e=t.data;this.videoForm.patchValue({name:e.name,lastname:e.lastname,phone:e.phone})})}get nameControl(){var t;return null===(t=this.videoForm)||void 0===t?void 0:t.get("name")}get lastnameControl(){return this.videoForm.get("lastname")}get phoneControl(){return this.videoForm.get("phone")}get turnControl(){return this.videoForm.get("turn")}get companyControl(){return this.videoForm.get("company")}returnToList(){this.location.back()}submitForm(){var t,e,m,l,s;this.videoForm.valid&&this.servicio.update({id:parseInt(this.id),name:null===(t=this.nameControl)||void 0===t?void 0:t.value,lastname:null===(e=this.lastnameControl)||void 0===e?void 0:e.value,phone:null===(m=this.lastnameControl)||void 0===m?void 0:m.value,company:parseInt(null===(l=this.companyControl)||void 0===l?void 0:l.value),turn:parseInt(null===(s=this.turnControl)||void 0===s?void 0:s.value)},"janitor").subscribe({next:p=>{this.snakBarService.openSnackBar("Editado correctamente","Cerrar"),this.returnToList()},error:p=>{this.snakBarService.openSnackBar("Error al editar los datos.","cerrar",{},"error")},complete:()=>console.info("complete")})}isNumberValidation(){return function(t){return null!==t.value&&isNaN(+t.value)?{notNumber:!0}:null}}}return o.\u0275fac=function(t){return new(t||o)(r.Y36(u.Ye),r.Y36(f.u),r.Y36(v.L),r.Y36(Z.J),r.Y36(c.gz),r.Y36(h.A))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-edit"]],decls:49,vars:8,consts:[[1,"row"],[1,"col-xl-7","mx-auto"],[1,"card","border-top","border-0","border-4","border-white"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center"],[1,"bx","bxs-user","me-1","font-22","text-white"],[1,"mb-0","text-white"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"form-control"],[1,"requeried","form-label"],["formControlName","name","matInput","","maxlength","50"],[4,"ngIf"],[1,"col-12"],["formControlName","lastname","matInput","","maxlength","50"],["matNativeControl","","formControlName","turn"],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","formControlName","company"],["formControlName","phone","matInput","","maxlength","50"],[1,"row","row-cols-auto","g-3"],[1,"col"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","submit","mat-raised-button","","color","primary"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div"),r._UZ(6,"i",5),r.qZA(),r.TgZ(7,"h5",6),r._uU(8,"Editar departamento"),r.qZA(),r.qZA(),r._UZ(9,"hr"),r.TgZ(10,"form",7),r.NdJ("ngSubmit",function(){return e.submitForm()}),r.TgZ(11,"mat-form-field",8),r.TgZ(12,"mat-label",9),r._uU(13,"Nombre:"),r.qZA(),r._UZ(14,"input",10),r.YNc(15,A,3,2,"mat-error",11),r.qZA(),r.TgZ(16,"div",12),r.TgZ(17,"mat-form-field",8),r.TgZ(18,"mat-label",9),r._uU(19,"apellidos:"),r.qZA(),r._UZ(20,"input",13),r.YNc(21,E,3,2,"mat-error",11),r.qZA(),r.qZA(),r.TgZ(22,"div",12),r.TgZ(23,"mat-form-field",8),r.TgZ(24,"mat-label",9),r._uU(25,"Tipo de turno:"),r.qZA(),r.TgZ(26,"select",14),r.YNc(27,N,2,2,"option",15),r.qZA(),r.YNc(28,I,2,1,"mat-error",11),r.qZA(),r.qZA(),r.TgZ(29,"div",12),r.TgZ(30,"mat-form-field",8),r.TgZ(31,"mat-label",9),r._uU(32,"Compa\xf1\xeda de limpieza:"),r.qZA(),r.TgZ(33,"select",16),r.YNc(34,F,2,2,"option",15),r.qZA(),r.YNc(35,Y,2,1,"mat-error",11),r.qZA(),r.qZA(),r.TgZ(36,"div",12),r.TgZ(37,"mat-form-field",8),r.TgZ(38,"mat-label",9),r._uU(39,"Tel\xe9fono:"),r.qZA(),r._UZ(40,"input",17),r.YNc(41,Q,3,2,"mat-error",11),r.qZA(),r.qZA(),r.TgZ(42,"div",18),r.TgZ(43,"div",19),r.TgZ(44,"button",20),r.NdJ("click",function(l){return l.stopPropagation(),e.returnToList()}),r._uU(45," Cancelar "),r.qZA(),r.qZA(),r.TgZ(46,"div",19),r.TgZ(47,"button",21),r._uU(48," Aceptar "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(10),r.Q6J("formGroup",e.videoForm),r.xp6(5),r.Q6J("ngIf",e.nameControl&&e.nameControl.invalid),r.xp6(6),r.Q6J("ngIf",e.lastnameControl&&e.lastnameControl.invalid),r.xp6(6),r.Q6J("ngForOf",e.turnsData),r.xp6(1),r.Q6J("ngIf",e.turnControl&&e.turnControl.invalid),r.xp6(6),r.Q6J("ngForOf",e.companyData),r.xp6(1),r.Q6J("ngIf",e.companyControl&&e.companyControl.invalid),r.xp6(6),r.Q6J("ngIf",e.phoneControl&&e.phoneControl.invalid))},directives:[n._Y,n.JL,n.sg,d.KE,d.hX,n.Fj,_.Nt,n.JJ,n.u,n.nD,u.O5,n.EJ,u.sg,C.lW,d.TO,n.YN,n.Kr],styles:["[_nghost-%COMP%]     .mat-select-value{color:#fff!important}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[c.Bz.forChild(w)],c.Bz]}),o})();var k=i(9151);let B=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[u.ez,O,k.q]]}),o})()}}]);